<!DOCTYPE html>
<html lang="en">
  <head>
    <title>EditorManager - Brackets API</title>
    <link rel="stylesheet" href="../../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/typeahead.js-bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../../assets/css/prism.css">
    <link rel="stylesheet" href="../../assets/css/main.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="../../assets/js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../../assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="../../assets/js/typeahead.js"></script>
    <script type="text/javascript" src="../../assets/js/main.js"></script>
    <script src="http://use.edgefonts.net/source-sans-pro:n3,i3,n4,i4;source-code-pro.js"></script>

    <!-- Control the Flash of Unstyled Text (or FOUT) -->
    <style type="text/css">
        .wf-loading h1, .wf-loading h2, .wf-loading h3, .wf-loading h4,
        .wf-loading h5, .wf-loading h6, .wf-loading p, .wf-loading a {
            visibility: hidden;
        }
    </style>
    
    <script>
      window.moduleLevel = "../..";
    </script>
  </head>
  
  <body>
    <div class="row-fluid">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <a class="brand" href="../../index.html">Brackets API</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li><a href="#dependencies">Dependencies</a></li>
                <li><a href="#variables">Variables</a></li>
                <li><a href="#functions">Functions</a></li>
                <li><a href="#classes">Classes</a></li>
              </ul>
            </div>
            <input class="typeahead" placeholder="Search..." type="text" >
          </div>
        </div>
      </div>    </div>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="left-section">
            <h2 class="number-of-modules">Modules (145)</h2>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_"><i class="icon-folder-open"></i>[root]</a>
              </li>
            </ul>
            <ul id="package_" class="nav nav-list">
              <li><a href="../../modules/brackets.html">brackets</a></li>
              <li><a href="../../modules/dependencies.html">dependencies</a></li>
              <li><a href="../../modules/main.html">main</a></li>
              <li><a href="../../modules/strings.html">strings</a></li>
              <li><a href="../../modules/xorigin.html">xorigin</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_command"><i class="icon-folder-open"></i>command</a>
              </li>
            </ul>
            <ul id="package_command" class="nav nav-list">
              <li><a href="../../modules/command/CommandManager.html">CommandManager</a></li>
              <li><a href="../../modules/command/Commands.html">Commands</a></li>
              <li><a href="../../modules/command/DefaultMenus.html">DefaultMenus</a></li>
              <li><a href="../../modules/command/KeyBindingManager.html">KeyBindingManager</a></li>
              <li><a href="../../modules/command/Menus.html">Menus</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_document"><i class="icon-folder-open"></i>document</a>
              </li>
            </ul>
            <ul id="package_document" class="nav nav-list">
              <li><a href="../../modules/document/ChangedDocumentTracker.html">ChangedDocumentTracker</a></li>
              <li><a href="../../modules/document/Document.html">Document</a></li>
              <li><a href="../../modules/document/DocumentCommandHandlers.html">DocumentCommandHandlers</a></li>
              <li><a href="../../modules/document/DocumentManager.html">DocumentManager</a></li>
              <li><a href="../../modules/document/InMemoryFile.html">InMemoryFile</a></li>
              <li><a href="../../modules/document/TextRange.html">TextRange</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_editor"><i class="icon-folder-open"></i>editor</a>
              </li>
            </ul>
            <ul id="package_editor" class="nav nav-list">
              <li><a href="../../modules/editor/CodeHintList.html">CodeHintList</a></li>
              <li><a href="../../modules/editor/CodeHintManager.html">CodeHintManager</a></li>
              <li><a href="../../modules/editor/CSSInlineEditor.html">CSSInlineEditor</a></li>
              <li><a href="../../modules/editor/Editor.html">Editor</a></li>
              <li><a href="../../modules/editor/EditorCommandHandlers.html">EditorCommandHandlers</a></li>
              <li><a href="../../modules/editor/EditorManager.html">EditorManager</a></li>
              <li><a href="../../modules/editor/EditorOptionHandlers.html">EditorOptionHandlers</a></li>
              <li><a href="../../modules/editor/EditorStatusBar.html">EditorStatusBar</a></li>
              <li><a href="../../modules/editor/ImageViewer.html">ImageViewer</a></li>
              <li><a href="../../modules/editor/InlineTextEditor.html">InlineTextEditor</a></li>
              <li><a href="../../modules/editor/InlineWidget.html">InlineWidget</a></li>
              <li><a href="../../modules/editor/MultiRangeInlineEditor.html">MultiRangeInlineEditor</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_extensibility"><i class="icon-folder-open"></i>extensibility</a>
              </li>
            </ul>
            <ul id="package_extensibility" class="nav nav-list">
              <li><a href="../../modules/extensibility/ExtensionManager.html">ExtensionManager</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerDialog.html">ExtensionManagerDialog</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerView.html">ExtensionManagerView</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerViewModel.html">ExtensionManagerViewModel</a></li>
              <li><a href="../../modules/extensibility/InstallExtensionDialog.html">InstallExtensionDialog</a></li>
              <li><a href="../../modules/extensibility/Package.html">Package</a></li>
              <li><a href="../../modules/extensibility/registry_utils.html">registry_utils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_file"><i class="icon-folder-open"></i>file</a>
              </li>
            </ul>
            <ul id="package_file" class="nav nav-list">
              <li><a href="../../modules/file/FileUtils.html">FileUtils</a></li>
              <li><a href="../../modules/file/NativeFileError.html">NativeFileError</a></li>
              <li><a href="../../modules/file/NativeFileSystem.html">NativeFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem"><i class="icon-folder-open"></i>filesystem</a>
              </li>
            </ul>
            <ul id="package_filesystem" class="nav nav-list">
              <li><a href="../../modules/filesystem/Directory.html">Directory</a></li>
              <li><a href="../../modules/filesystem/File.html">File</a></li>
              <li><a href="../../modules/filesystem/FileIndex.html">FileIndex</a></li>
              <li><a href="../../modules/filesystem/FileSystem.html">FileSystem</a></li>
              <li><a href="../../modules/filesystem/FileSystemEntry.html">FileSystemEntry</a></li>
              <li><a href="../../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
              <li><a href="../../modules/filesystem/FileSystemStats.html">FileSystemStats</a></li>
              <li><a href="../../modules/filesystem/WatchedRoot.html">WatchedRoot</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/AppshellFileSystem.html">AppshellFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell_node"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell_node" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/node/FileWatcherDomain.html">FileWatcherDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_help"><i class="icon-folder-open"></i>help</a>
              </li>
            </ul>
            <ul id="package_help" class="nav nav-list">
              <li><a href="../../modules/help/HelpCommandHandlers.html">HelpCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_language"><i class="icon-folder-open"></i>language</a>
              </li>
            </ul>
            <ul id="package_language" class="nav nav-list">
              <li><a href="../../modules/language/CodeInspection.html">CodeInspection</a></li>
              <li><a href="../../modules/language/CSSUtils.html">CSSUtils</a></li>
              <li><a href="../../modules/language/HTMLDOMDiff.html">HTMLDOMDiff</a></li>
              <li><a href="../../modules/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../modules/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
              <li><a href="../../modules/language/HTMLTokenizer.html">HTMLTokenizer</a></li>
              <li><a href="../../modules/language/HTMLUtils.html">HTMLUtils</a></li>
              <li><a href="../../modules/language/JSUtils.html">JSUtils</a></li>
              <li><a href="../../modules/language/LanguageManager.html">LanguageManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Agents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Agents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Agents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Agents/ConsoleAgent.html">ConsoleAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/CSSAgent.html">CSSAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMAgent.html">DOMAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMHelpers.html">DOMHelpers</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMNode.html">DOMNode</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/EditAgent.html">EditAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/GotoAgent.html">GotoAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/HighlightAgent.html">HighlightAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/NetworkAgent.html">NetworkAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteAgent.html">RemoteAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteFunctions.html">RemoteFunctions</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/ScriptAgent.html">ScriptAgent</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Documents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Documents/CSSDocument.html">CSSDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/HTMLDocument.html">HTMLDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/JSDocument.html">JSDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Inspector"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Inspector</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Inspector" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Inspector/Inspector.html">Inspector</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment"><i class="icon-folder-open"></i>LiveDevelopment</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/LiveDevelopment.html">LiveDevelopment</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevServerManager.html">LiveDevServerManager</a></li>
              <li><a href="../../modules/LiveDevelopment/main.html">main</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Servers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Servers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Servers" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Servers/BaseServer.html">BaseServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/FileServer.html">FileServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/UserServer.html">UserServer</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_preferences"><i class="icon-folder-open"></i>preferences</a>
              </li>
            </ul>
            <ul id="package_preferences" class="nav nav-list">
              <li><a href="../../modules/preferences/PreferencesBase.html">PreferencesBase</a></li>
              <li><a href="../../modules/preferences/PreferencesDialogs.html">PreferencesDialogs</a></li>
              <li><a href="../../modules/preferences/PreferencesImpl.html">PreferencesImpl</a></li>
              <li><a href="../../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
              <li><a href="../../modules/preferences/PreferenceStorage.html">PreferenceStorage</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_project"><i class="icon-folder-open"></i>project</a>
              </li>
            </ul>
            <ul id="package_project" class="nav nav-list">
              <li><a href="../../modules/project/FileIndexManager.html">FileIndexManager</a></li>
              <li><a href="../../modules/project/FileSyncManager.html">FileSyncManager</a></li>
              <li><a href="../../modules/project/FileViewController.html">FileViewController</a></li>
              <li><a href="../../modules/project/ProjectManager.html">ProjectManager</a></li>
              <li><a href="../../modules/project/SidebarView.html">SidebarView</a></li>
              <li><a href="../../modules/project/WorkingSetSort.html">WorkingSetSort</a></li>
              <li><a href="../../modules/project/WorkingSetView.html">WorkingSetView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search"><i class="icon-folder-open"></i>search</a>
              </li>
            </ul>
            <ul id="package_search" class="nav nav-list">
              <li><a href="../../modules/search/FileFilters.html">FileFilters</a></li>
              <li><a href="../../modules/search/FindBar.html">FindBar</a></li>
              <li><a href="../../modules/search/FindInFiles.html">FindInFiles</a></li>
              <li><a href="../../modules/search/FindInFilesUI.html">FindInFilesUI</a></li>
              <li><a href="../../modules/search/FindReplace.html">FindReplace</a></li>
              <li><a href="../../modules/search/FindUtils.html">FindUtils</a></li>
              <li><a href="../../modules/search/QuickOpen.html">QuickOpen</a></li>
              <li><a href="../../modules/search/ScrollTrackMarkers.html">ScrollTrackMarkers</a></li>
              <li><a href="../../modules/search/SearchModel.html">SearchModel</a></li>
              <li><a href="../../modules/search/SearchResultsView.html">SearchResultsView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_utils"><i class="icon-folder-open"></i>utils</a>
              </li>
            </ul>
            <ul id="package_utils" class="nav nav-list">
              <li><a href="../../modules/utils/AnimationUtils.html">AnimationUtils</a></li>
              <li><a href="../../modules/utils/AppInit.html">AppInit</a></li>
              <li><a href="../../modules/utils/Async.html">Async</a></li>
              <li><a href="../../modules/utils/BuildInfoUtils.html">BuildInfoUtils</a></li>
              <li><a href="../../modules/utils/CollectionUtils.html">CollectionUtils</a></li>
              <li><a href="../../modules/utils/ColorUtils.html">ColorUtils</a></li>
              <li><a href="../../modules/utils/DeprecationWarning.html">DeprecationWarning</a></li>
              <li><a href="../../modules/utils/DragAndDrop.html">DragAndDrop</a></li>
              <li><a href="../../modules/utils/DropdownEventHandler.html">DropdownEventHandler</a></li>
              <li><a href="../../modules/utils/ExtensionLoader.html">ExtensionLoader</a></li>
              <li><a href="../../modules/utils/ExtensionUtils.html">ExtensionUtils</a></li>
              <li><a href="../../modules/utils/Global.html">Global</a></li>
              <li><a href="../../modules/utils/KeyEvent.html">KeyEvent</a></li>
              <li><a href="../../modules/utils/NativeApp.html">NativeApp</a></li>
              <li><a href="../../modules/utils/NodeConnection.html">NodeConnection</a></li>
              <li><a href="../../modules/utils/NodeDomain.html">NodeDomain</a></li>
              <li><a href="../../modules/utils/PerfUtils.html">PerfUtils</a></li>
              <li><a href="../../modules/utils/Resizer.html">Resizer</a></li>
              <li><a href="../../modules/utils/ShellAPI.html">ShellAPI</a></li>
              <li><a href="../../modules/utils/StringMatch.html">StringMatch</a></li>
              <li><a href="../../modules/utils/StringUtils.html">StringUtils</a></li>
              <li><a href="../../modules/utils/TokenUtils.html">TokenUtils</a></li>
              <li><a href="../../modules/utils/UpdateNotification.html">UpdateNotification</a></li>
              <li><a href="../../modules/utils/UrlParams.html">UrlParams</a></li>
              <li><a href="../../modules/utils/ValidationUtils.html">ValidationUtils</a></li>
              <li><a href="../../modules/utils/ViewUtils.html">ViewUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_view"><i class="icon-folder-open"></i>view</a>
              </li>
            </ul>
            <ul id="package_view" class="nav nav-list">
              <li><a href="../../modules/view/PanelManager.html">PanelManager</a></li>
              <li><a href="../../modules/view/ViewCommandHandlers.html">ViewCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_widgets"><i class="icon-folder-open"></i>widgets</a>
              </li>
            </ul>
            <ul id="package_widgets" class="nav nav-list">
              <li><a href="../../modules/widgets/bootstrap-alerts.html">bootstrap-alerts</a></li>
              <li><a href="../../modules/widgets/bootstrap-button.html">bootstrap-button</a></li>
              <li><a href="../../modules/widgets/bootstrap-dropdown.html">bootstrap-dropdown</a></li>
              <li><a href="../../modules/widgets/bootstrap-modal.html">bootstrap-modal</a></li>
              <li><a href="../../modules/widgets/bootstrap-popover.html">bootstrap-popover</a></li>
              <li><a href="../../modules/widgets/bootstrap-scrollspy.html">bootstrap-scrollspy</a></li>
              <li><a href="../../modules/widgets/bootstrap-tab.html">bootstrap-tab</a></li>
              <li><a href="../../modules/widgets/bootstrap-tooltip.html">bootstrap-tooltip</a></li>
              <li><a href="../../modules/widgets/bootstrap-twipsy-mod.html">bootstrap-twipsy-mod</a></li>
              <li><a href="../../modules/widgets/DefaultDialogs.html">DefaultDialogs</a></li>
              <li><a href="../../modules/widgets/Dialogs.html">Dialogs</a></li>
              <li><a href="../../modules/widgets/DropdownButton.html">DropdownButton</a></li>
              <li><a href="../../modules/widgets/ModalBar.html">ModalBar</a></li>
              <li><a href="../../modules/widgets/PopUpManager.html">PopUpManager</a></li>
              <li><a href="../../modules/widgets/StatusBar.html">StatusBar</a></li>
            </ul>
          </div>
        </div>
        <div class="module span9">
<h1>EditorManager</h1>


<section class="description">
    <h3>Description</h3>
    
    <div><p>EditorManager owns the UI for the editor area. This essentially mirrors the &#39;current document&#39;
property maintained by DocumentManager&#39;s model.</p>
<p>Note that there is a little bit of unusual overlap between EditorManager and DocumentManager:
because the Document state is actually stored in the CodeMirror editor UI, DocumentManager is
not a pure headless model. Each Document encapsulates an editor instance, and thus EditorManager
must have some knowledge about Document&#39;s internal state (we access its _editor property).</p>
<p>This module dispatches the following events:</p>
<ul>
<li>activeEditorChange --  Fires after the active editor (full or inline) changes and size/visibility
are complete. Doesn&#39;t fire when editor temporarily loses focus to a non-editor
control (e.g. search toolbar or modal dialog, or window deactivation). Does
fire when focus moves between inline editor and its full-size container.
This event tracks <code>getActiveEditor()</code> changes, while DocumentManager&#39;s
<code>currentDocumentChange</code> tracks <code>getCurrentFullEditor()</code> changes.
The 2nd arg to the listener is which Editor became active; the 3rd arg is
which Editor is deactivated as a result. Either one may be null.
NOTE (#1257): <code>getFocusedEditor()</code> sometimes lags behind this event. Listeners
should use the arguments or call <code>getActiveEditor()</code> to reliably see which Editor 
just gained focus.</li>
</ul>
</div>
</section>

<section id="dependencies">
    <h3>Dependencies</h3>

    <ul class="nav nav-list">
        <li><a href="..&#x2F;../modules/command/CommandManager.html">CommandManager</a></li>
        <li><a href="..&#x2F;../modules/command/Commands.html">Commands</a></li>
        <li><a href="..&#x2F;../modules/document/DocumentManager.html">DocumentManager</a></li>
        <li><a href="..&#x2F;../modules/editor/Editor.html">Editor</a></li>
        <li><a href="..&#x2F;../modules/editor/InlineTextEditor.html">InlineTextEditor</a></li>
        <li><a href="..&#x2F;../modules/language/LanguageManager.html">LanguageManager</a></li>
        <li><a href="..&#x2F;../modules/view/PanelManager.html">PanelManager</a></li>
        <li><a href="..&#x2F;../modules/utils/PerfUtils.html">PerfUtils</a></li>
        <li><a href="..&#x2F;../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
        <li><a href="..&#x2F;../modules/strings.html">strings</a></li>
    </ul>

</section>
<section id="variables">
    
    <h3>Variables 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>REFRESH_FORCE</h4>

    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
</dl>
    <div class="description"><p>Flag for <code>_onEditorAreaResize()</code> to always force refresh.</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var REFRESH_FORCE = &quot;force&quot;;</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>REFRESH_SKIP</h4>

    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
</dl>
    <div class="description"><p>Flag for <code>_onEditorAreaResize()</code> to never refresh.</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var REFRESH_SKIP = &quot;skip&quot;;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_$currentCustomViewer</h4>

    
<dl>
    <dt>Type</dt>
    <dd>?JQuery</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>DOM node representing UI of custom view  </p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _$currentCustomViewer = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_currentEditor</h4>

    
<dl>
    <dt>Type</dt>
    <dd>?Editor</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Currently visible full-size Editor, or null if no editors open</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _currentEditor = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_currentEditorsDocument</h4>

    
<dl>
    <dt>Type</dt>
    <dd>?Document</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Document in current editor</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _currentEditorsDocument = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_currentViewProvider</h4>

    
<dl>
    <dt>Type</dt>
    <dd>?Object</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>view provider</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _currentViewProvider = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_currentlyViewedPath</h4>

    
<dl>
    <dt>Type</dt>
    <dd>?string</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>full path to file</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _currentlyViewedPath = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_customViewerRegistry</h4>

    
<dl>
    <dt>Type</dt>
    <dd>?Object</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>view provider registry</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _customViewerRegistry = {};</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_editorHolder</h4>

    
<dl>
    <dt>Type</dt>
    <dd>jQueryObject</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>DOM node that contains all editors (visible and hidden alike)</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _editorHolder = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_inlineDocsProviders</h4>

    
<dl>
    <dt>Type</dt>
    <dd>Array.&lt;{priority:number, provider:function(...)}&gt;</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Registered inline documentation widget providers sorted descending by priority.
See {@link #registerInlineDocsProvider()}.</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _inlineDocsProviders = [];</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_inlineEditProviders</h4>

    
<dl>
    <dt>Type</dt>
    <dd>Array.&lt;{priority:number, provider:function(...)}&gt;</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Registered inline-editor widget providers sorted descending by priority. 
See {@link #registerInlineEditProvider()}.</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _inlineEditProviders = [];</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_jumpToDefProviders</h4>

    
<dl>
    <dt>Type</dt>
    <dd>Array.&lt;function(...)&gt;</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Registered jump-to-definition providers. See {@link #registerJumpToDefProvider()}.</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _jumpToDefProviders = [];</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_lastEditorWidth</h4>

    
<dl>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Last known editor area width, used to detect when the window is resized horizontally.</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _lastEditorWidth = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_lastFocusedEditor</h4>

    
<dl>
    <dt>Type</dt>
    <dd>?Editor</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Currently focused Editor (full-size, inline, or otherwise)</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _lastFocusedEditor = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_viewStateCache</h4>

    
<dl>
    <dt>Type</dt>
    <dd>Object&lt;string, {scrollPos:{x:number, y:number}, selection:{start:{line:number, ch:number}, end:{line:number, ch:number}}}&gt;</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Maps full path to scroll pos &amp; cursor/selection info. Not kept up to date while an editor is current.
Only updated when switching / closing editor, or when requested explicitly via _getViewState().</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _viewStateCache = {};</code></pre></div>
</section>

<section id="functions">

    <h3>Functions 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>_closeCustomViewer</h4>

    
    <div class="description"><p>Closes the customViewer currently displayed, shows the NoEditor view
and notifies the ProjectManager to update the file selection</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _closeCustomViewer() {
        _removeCustomViewer();
        _setCurrentlyViewedPath();
        _showNoEditor();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_createEditorForDocument</h4>

    
    <div class="description"><p>Creates a new Editor bound to the given Document.
The editor is appended to the given container as a visible child.</p>
</div>
    
<dl>
    <dt>doc</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Document</dd>
    <dd>Document for the Editor's content</dd>
    <dt>makeMasterEditor</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">boolean</dd>
    <dd>If true, the Editor will set itself as the private "master" Editor for the Document. If false, the Editor will attach to the Document as a "slave."</dd>
    <dt>container</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">jQueryObject</dd>
    <dd>Container to add the editor to.</dd>
    <dt>range</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">{startLine: number, endLine: number}</dd>
    <dd>If specified, range of lines within the document to display in this editor. Inclusive.</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">Editor</dd>
    <dd>the newly created editor.</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _createEditorForDocument(doc, makeMasterEditor, container, range) {
        var editor = new Editor(doc, makeMasterEditor, container, range);

        $(editor).on(&quot;focus&quot;, function () {
            _notifyActiveEditorChanged(this);
        });
        
        return editor;
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>_createFullEditorForDocument</h4>

    
    <div class="description"></div>
    
<dl>
    <dt>document</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Document</dd>
    <dd>Document whose main/full Editor to create</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _createFullEditorForDocument(document) {
        &#x2F;&#x2F; Create editor; make it initially invisible
        var container = _editorHolder.get(0);
        var editor = _createEditorForDocument(document, true, container);
        editor.setVisible(false);
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>_destroyEditorIfUnneeded</h4>

    
    <div class="description"><p>Disposes the given Document&#39;s full-size editor if the doc is no longer &quot;open&quot; from the user&#39;s
standpoint - not in the working set and not currentDocument).</p>
<p>Destroying the full-size editor releases ONE ref to the Document; if inline editors or other
UI elements are still referencing the Document it will still be &#39;open&#39; (kept alive) from
DocumentManager&#39;s standpoint. However, destroying the full-size editor does remove the backing
&quot;master&quot; editor from the Document, rendering it immutable until either inline-editor edits or
currentDocument change triggers <code>_createFullEditorForDocument()</code> full-size editor again.</p>
<p>In certain edge cases, this is called directly by DocumentManager; see <code>_gcDocuments()</code> for details.</p>
</div>
    
<dl>
    <dt>document</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Document</dd>
    <dd>Document whose "master" editor we may destroy</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _destroyEditorIfUnneeded(document) {
        var editor = document._masterEditor;

        if (!editor) {
            if (!(document instanceof DocumentManager.Document)) {
                throw new Error(&quot;_destroyEditorIfUnneeded() should be passed a Document&quot;);
            }
            return;
        }
        
        &#x2F;&#x2F; If outgoing editor is no longer needed, dispose it
        var isCurrentDocument = (DocumentManager.getCurrentDocument() === document);
        var isInWorkingSet = (DocumentManager.findInWorkingSet(document.file.fullPath) !== -1);
        if (!isCurrentDocument &amp;&amp; !isInWorkingSet) {
            &#x2F;&#x2F; Destroy the editor widget (which un-refs the Document and reverts it to read-only mode)
            editor.destroy();
            
            &#x2F;&#x2F; Our callers should really ensure this, but just for safety...
            if (_currentEditor === editor) {
                _currentEditorsDocument = null;
                _currentEditor = null;
            }
        }
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_doJumpToDef</h4>

    
    <div class="description"><p>Asynchronously asks providers to handle jump-to-definition.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">!Promise</dd>
    <dd>Resolved when the provider signals that it's done; rejected if no provider responded or the provider that responded failed.</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _doJumpToDef() {
        var providers = _jumpToDefProviders;
        var promise,
            i,
            result = new $.Deferred();
        
        var editor = getActiveEditor();
        if (editor) {
            var pos = editor.getCursorPos();

            PerfUtils.markStart(PerfUtils.JUMP_TO_DEFINITION);
            
            &#x2F;&#x2F; Run through providers until one responds
            for (i = 0; i &lt; providers.length &amp;&amp; !promise; i++) {
                var provider = providers[i];
                promise = provider(editor, pos);
            }

            &#x2F;&#x2F; Will one of them will provide a result?
            if (promise) {
                promise.done(function () {
                    PerfUtils.addMeasurement(PerfUtils.JUMP_TO_DEFINITION);
                    result.resolve();
                }).fail(function () {
                    &#x2F;&#x2F; terminate timer that was started above
                    PerfUtils.finalizeMeasurement(PerfUtils.JUMP_TO_DEFINITION);
                    result.reject();
                });
            } else {
                &#x2F;&#x2F; terminate timer that was started above
                PerfUtils.finalizeMeasurement(PerfUtils.JUMP_TO_DEFINITION);
                result.reject();
            }
            
        } else {
            result.reject();
        }
        
        return result.promise();
    }
    
    &#x2F;&#x2F; File-based preferences handling
    $(exports).on(&quot;activeEditorChange&quot;, function (e, current) {
        if (current &amp;&amp; current.document &amp;&amp; current.document.file) {
            PreferencesManager._setCurrentEditingFile(current.document.file.fullPath);
        }
    });
    
    &#x2F;&#x2F; Initialize: command handlers
    CommandManager.register(Strings.CMD_TOGGLE_QUICK_EDIT, Commands.TOGGLE_QUICK_EDIT, function () {
        return _toggleInlineWidget(_inlineEditProviders, Strings.ERROR_QUICK_EDIT_PROVIDER_NOT_FOUND);
    });
    CommandManager.register(Strings.CMD_TOGGLE_QUICK_DOCS, Commands.TOGGLE_QUICK_DOCS, function () {
        return _toggleInlineWidget(_inlineDocsProviders, Strings.ERROR_QUICK_DOCS_PROVIDER_NOT_FOUND);
    });
    CommandManager.register(Strings.CMD_JUMPTO_DEFINITION, Commands.NAVIGATE_JUMPTO_DEFINITION, _doJumpToDef);

    &#x2F;&#x2F; Create PerfUtils measurement
    PerfUtils.createPerfMeasurement(&quot;JUMP_TO_DEFINITION&quot;, &quot;Jump-To-Definiiton&quot;);

    &#x2F;&#x2F; Initialize: register listeners
    $(DocumentManager).on(&quot;currentDocumentChange&quot;, _onCurrentDocumentChange);
    $(DocumentManager).on(&quot;workingSetRemove&quot;,      _onWorkingSetRemove);
    $(DocumentManager).on(&quot;workingSetRemoveList&quot;,  _onWorkingSetRemoveList);
    $(DocumentManager).on(&quot;fileNameChange&quot;,        _onFileNameChange);
    $(PanelManager).on(&quot;editorAreaResize&quot;,         _onEditorAreaResize);


    &#x2F;&#x2F; For unit tests and internal use only
    exports._openInlineWidget             = _openInlineWidget;
    exports._createFullEditorForDocument  = _createFullEditorForDocument;
    exports._destroyEditorIfUnneeded      = _destroyEditorIfUnneeded;
    exports._getViewState                 = _getViewState;
    exports._resetViewStates              = _resetViewStates;
    exports._doShow                       = _doShow;
    exports._notifyActiveEditorChanged    = _notifyActiveEditorChanged;
    exports._showCustomViewer             = _showCustomViewer;
    exports._closeCustomViewer            = _closeCustomViewer;
    
    
    
    exports.REFRESH_FORCE = REFRESH_FORCE;
    exports.REFRESH_SKIP  = REFRESH_SKIP;
    
    &#x2F;&#x2F; Define public API
    exports.setEditorHolder               = setEditorHolder;
    exports.getCurrentFullEditor          = getCurrentFullEditor;
    exports.createInlineEditorForDocument = createInlineEditorForDocument;
    exports.focusEditor                   = focusEditor;
    exports.getFocusedEditor              = getFocusedEditor;
    exports.getActiveEditor               = getActiveEditor;
    exports.getCurrentlyViewedPath        = getCurrentlyViewedPath;
    exports.getFocusedInlineWidget        = getFocusedInlineWidget;
    exports.resizeEditor                  = resizeEditor;
    exports.registerInlineEditProvider    = registerInlineEditProvider;
    exports.registerInlineDocsProvider    = registerInlineDocsProvider;
    exports.registerJumpToDefProvider     = registerJumpToDefProvider;
    exports.getInlineEditors              = getInlineEditors;
    exports.closeInlineWidget             = closeInlineWidget;
    exports.registerCustomViewer          = registerCustomViewer;
    exports.getCustomViewerForPath        = getCustomViewerForPath;
    exports.notifyPathDeleted             = notifyPathDeleted;
    exports.showingCustomViewerForPath    = showingCustomViewerForPath;
});</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>_doShow</h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _doShow(document) {
        &#x2F;&#x2F; Show new editor
        _currentEditorsDocument = document;
        _currentEditor = document._masterEditor;
        
        &#x2F;&#x2F; Skip refreshing the editor since we&#39;re going to refresh it more explicitly below
        _currentEditor.setVisible(true, false);
        _currentEditor.focus();
        
        &#x2F;&#x2F; Resize and refresh the editor, since it might have changed size or had other edits applied
        &#x2F;&#x2F; since it was last visible.
        PanelManager._notifyLayoutChange(REFRESH_FORCE);
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_getFocusedInlineEditor</h4>

    
    <div class="description"><p>Returns the focused Editor within an inline text editor, or null if something else has focus</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">?Editor</dd>
    <dd></dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _getFocusedInlineEditor() {
        var focusedWidget = getFocusedInlineWidget();
        if (focusedWidget instanceof InlineTextEditor) {
            return focusedWidget.getFocusedEditor();
        }
        return null;
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>_getViewState</h4>

    
    <div class="description"><p>Returns up-to-date view state for the given file, or null if file not open and no state cached</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _getViewState(fullPath) {
        if (_currentEditorsDocument &amp;&amp; _currentEditorsDocument.file.fullPath === fullPath) {
            _saveEditorViewState(_currentEditor);
        }
        return _viewStateCache[fullPath];
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_insertProviderSorted</h4>

    
    <div class="description"><p>Inserts a prioritized provider object into the array in sorted (descending) order.</p>
</div>
    
<dl>
    <dt>array</dt>
    <dd class="label label-info pull-left">Array.&lt;{priority:number,provider:function(...)}&gt;</dd>
    <dd></dd>
    <dt>priority</dt>
    <dd class="label label-info pull-left">number</dd>
    <dd></dd>
    <dt>provider</dt>
    <dd class="label label-info pull-left">function(...)</dd>
    <dd></dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _insertProviderSorted(array, provider, priority) {
        var index,
            prioritizedProvider = {
                priority: priority,
                provider: provider
            };
        
        for (index = 0; index &lt; array.length; index++) {
            if (array[index].priority &lt; priority) {
                break;
            }
        }
        
        array.splice(index, 0, prioritizedProvider);
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>_notifyActiveEditorChanged</h4>

    
    <div class="description"></div>
    
<dl>
    <dt>current</dt>
    <span class="label label-nullable pull-left">nullable</span>
    <dd class="label label-info pull-left">Editor</dd>
    <dd></dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _notifyActiveEditorChanged(current) {
        &#x2F;&#x2F; Skip if the Editor that gained focus was already the most recently focused editor.
        &#x2F;&#x2F; This may happen e.g. if the window loses then regains focus.
        if (_lastFocusedEditor === current) {
            return;
        }
        var previous = _lastFocusedEditor;
        _lastFocusedEditor = current;
        
        $(exports).triggerHandler(&quot;activeEditorChange&quot;, [current, previous]);
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_nullifyEditor</h4>

    
    <div class="description"><p>Resets editor state to make sure <code>getFocusedEditor()</code>, <code>getActiveEditor()</code>,
and <code>getCurrentFullEditor()</code> return null when an image or the NoEditor 
placeholder is displayed.</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _nullifyEditor() {
        if (_currentEditor) {
            _saveEditorViewState(_currentEditor);
            
            &#x2F;&#x2F; This is a hack to deal with #5589. The issue is that CodeMirror&#39;s logic for polling its
            &#x2F;&#x2F; hidden input field relies on whether there&#39;s a selection in the input field or not. When
            &#x2F;&#x2F; we hide the editor, the input field loses its selection. Somehow, CodeMirror&#39;s readInput()
            &#x2F;&#x2F; poll can get called before the resulting blur event is asynchronously sent. (Our guess is
            &#x2F;&#x2F; that if the setTimeout() that the poll is on is overdue, it gets serviced before the backlog
            &#x2F;&#x2F; of asynchronous events is flushed.) That means that readInput() thinks CM still has focus,
            &#x2F;&#x2F; but that the hidden input has lost its selection, meaning the user has typed something, which
            &#x2F;&#x2F; causes it to replace the editor selection (with the same text), leading to the erroneous
            &#x2F;&#x2F; change event and selection change. To work around this, we simply blur CM&#39;s input field
            &#x2F;&#x2F; before hiding the editor, which forces the blur event to be sent synchronously, before the
            &#x2F;&#x2F; next readInput() triggers.
            &#x2F;&#x2F;
            &#x2F;&#x2F; Note that we only need to do this here, not in _showEditor(), because _showEditor()
            &#x2F;&#x2F; ends up synchronously setting focus to another editor, which has the effect of
            &#x2F;&#x2F; forcing a synchronous blur event as well.
            _currentEditor._codeMirror.getInputField().blur();
            
            _currentEditor.setVisible(false);
            _destroyEditorIfUnneeded(_currentEditorsDocument);
            
            _currentEditorsDocument = null;
            _currentEditor = null;
            _currentlyViewedPath = null;
            
            &#x2F;&#x2F; No other Editor is gaining focus, so in this one special case we must trigger event manually
            _notifyActiveEditorChanged(null);
        }
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_onCurrentDocumentChange</h4>

    
    <div class="description"><p>Handles changes to DocumentManager.getCurrentDocument()</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _onCurrentDocumentChange() {
        var doc = DocumentManager.getCurrentDocument(),
            container = _editorHolder.get(0);
        
        var perfTimerName = PerfUtils.markStart(&quot;EditorManager._onCurrentDocumentChange():\t&quot; + (!doc || doc.file.fullPath));
        
        &#x2F;&#x2F; When the document or file in view changes clean up.
        _removeCustomViewer();
        &#x2F;&#x2F; Update the UI to show the right editor (or nothing), and also dispose old editor if no
        &#x2F;&#x2F; longer needed.
        if (doc) {
            _showEditor(doc);
            _setCurrentlyViewedPath(doc.file.fullPath);
        } else {
            _clearCurrentlyViewedPath();
            _showNoEditor();
        }

        PerfUtils.addMeasurement(perfTimerName);
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_onEditorAreaResize</h4>

    
    <div class="description"><p>Update the current CodeMirror editor&#39;s size. Must be called any time the contents of the editor area
are swapped or any time the editor-holder area has changed height. EditorManager calls us in the swap
case. PanelManager calls us in the most common height-change cases (panel and/or window resize), but
some other cases are handled by external code calling <code>resizeEditor()</code> (e.g. ModalBar hide/show).</p>
</div>
    
<dl>
    <dt>editorAreaHt</dt>
    <dd class="label label-info pull-left">number</dd>
    <dd></dd>
    <dt>refreshFlag</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">string</dd>
    <dd>For internal use. Set to "force" to ensure the editor will refresh, "skip" to ensure the editor does not refresh, or leave undefined to let `_onEditorAreaResize()` determine whether it needs to refresh.</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _onEditorAreaResize(event, editorAreaHt, refreshFlag) {
        if (_currentEditor) {
            var curRoot = _currentEditor.getRootElement(),
                curWidth = $(curRoot).width();
            if (!curRoot.style.height || $(curRoot).height() !== editorAreaHt) {
                &#x2F;&#x2F; Call setSize() instead of $.height() to allow CodeMirror to
                &#x2F;&#x2F; check for options like line wrapping
                _currentEditor.setSize(null, editorAreaHt);
                if (refreshFlag === undefined) {
                    refreshFlag = REFRESH_FORCE;
                }
            } else if (curWidth !== _lastEditorWidth) {
                if (refreshFlag === undefined) {
                    refreshFlag = REFRESH_FORCE;
                }
            }
            _lastEditorWidth = curWidth;

            if (refreshFlag === REFRESH_FORCE) {
                _currentEditor.refreshAll(true);
            }
        }
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_onFileNameChange</h4>

    
    <div class="description"><p>Update file name if necessary</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _onFileNameChange(e, oldName, newName) {
        if (_currentlyViewedPath === oldName) {
            _setCurrentlyViewedPath(newName);
        }
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_onWorkingSetRemove</h4>

    
    <div class="description"><p>Handles removals from DocumentManager&#39;s working set list</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _onWorkingSetRemove(event, removedFile) {
        &#x2F;&#x2F; There&#39;s one case where an editor should be disposed even though the current document
        &#x2F;&#x2F; didn&#39;t change: removing a document from the working set (via the &quot;X&quot; button). (This may
        &#x2F;&#x2F; also cover the case where the document WAS current, if the editor-swap happens before the
        &#x2F;&#x2F; removal from the working set.
        var doc = DocumentManager.getOpenDocumentForPath(removedFile.fullPath);
        if (doc) {
            _destroyEditorIfUnneeded(doc);
        }
        &#x2F;&#x2F; else, file was listed in working set but never shown in the editor - ignore
    }

    function _onWorkingSetRemoveList(event, removedFiles) {
        removedFiles.forEach(function (removedFile) {
            _onWorkingSetRemove(event, removedFile);
        });
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>_openInlineWidget</h4>

    
    <div class="description"></div>
    
<dl>
    <dt>editor</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Editor</dd>
    <dd>The host editor</dd>
    <dt>providers</dt>
    <dd class="label label-info pull-left">Array.&lt;{priority:number,provider:function(...)}&gt;</dd>
    <dd>prioritized list of providers</dd>
    <dt>defaultErrorMsg</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">string</dd>
    <dd>Default message to display if no providers return non-null</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>a promise that will be resolved when an InlineWidget is created or rejected if no inline providers have offered one.</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _openInlineWidget(editor, providers, defaultErrorMsg) {
        PerfUtils.markStart(PerfUtils.INLINE_WIDGET_OPEN);
        
        &#x2F;&#x2F; Run through inline-editor providers until one responds
        var pos = editor.getCursorPos(),
            inlinePromise,
            i,
            result = new $.Deferred(),
            errorMsg,
            providerRet;
        
        &#x2F;&#x2F; Query each provider in priority order. Provider may return:
        &#x2F;&#x2F; 1. `null` to indicate it does not apply to current cursor position
        &#x2F;&#x2F; 2. promise that should resolve to an InlineWidget
        &#x2F;&#x2F; 3. string which indicates provider does apply to current cursor position,
        &#x2F;&#x2F;    but reason it could not create InlineWidget
        &#x2F;&#x2F;
        &#x2F;&#x2F; Keep looping until a provider is found. If a provider is not found,
        &#x2F;&#x2F; display highest priority error message that was found, otherwise display
        &#x2F;&#x2F; default error message
        for (i = 0; i &lt; providers.length &amp;&amp; !inlinePromise; i++) {
            var provider = providers[i].provider;
            providerRet = provider(editor, pos);
            if (providerRet) {
                if (providerRet.hasOwnProperty(&quot;done&quot;)) {
                    inlinePromise = providerRet;
                } else if (!errorMsg &amp;&amp; typeof (providerRet) === &quot;string&quot;) {
                    errorMsg = providerRet;
                }
            }
        }

        &#x2F;&#x2F; Use default error message if none other provided
        errorMsg = errorMsg || defaultErrorMsg;
        
        &#x2F;&#x2F; If one of them will provide a widget, show it inline once ready
        if (inlinePromise) {
            inlinePromise.done(function (inlineWidget) {
                editor.addInlineWidget(pos, inlineWidget).done(function () {
                    PerfUtils.addMeasurement(PerfUtils.INLINE_WIDGET_OPEN);
                    result.resolve();
                });
            }).fail(function () {
                &#x2F;&#x2F; terminate timer that was started above
                PerfUtils.finalizeMeasurement(PerfUtils.INLINE_WIDGET_OPEN);
                editor.displayErrorMessageAtCursor(errorMsg);
                result.reject();
            });
        } else {
            &#x2F;&#x2F; terminate timer that was started above
            PerfUtils.finalizeMeasurement(PerfUtils.INLINE_WIDGET_OPEN);
            editor.displayErrorMessageAtCursor(errorMsg);
            result.reject();
        }
        
        return result.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_removeCustomViewer</h4>

    
    <div class="description"><p>Remove existing custom view if present</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _removeCustomViewer() {
        
        if (_$currentCustomViewer) {
            _$currentCustomViewer.remove();
            if (_currentViewProvider.onRemove) {
                _currentViewProvider.onRemove();
            }
        }
        _$currentCustomViewer = null;
        _currentViewProvider = null;
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>_resetViewStates</h4>

    
    <div class="description"><p>Removes all cached view state info and replaces it with the given mapping</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _resetViewStates(viewStates) {
        _viewStateCache = viewStates;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_restoreEditorViewState</h4>

    
    <div class="description"><p>Updates the given editor&#39;s actual state from _viewStateCache, if any state stored</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _restoreEditorViewState(editor) {
        &#x2F;&#x2F; We want to ignore the current state of the editor, so don&#39;t call _getViewState()
        var viewState = _viewStateCache[editor.document.file.fullPath];
        if (viewState) {
            if (viewState.selection) {
                &#x2F;&#x2F; We no longer write out single-selection, but there might be some view state
                &#x2F;&#x2F; from an older version.
                editor.setSelection(viewState.selection.start, viewState.selection.end);
            }
            if (viewState.selections) {
                editor.setSelections(viewState.selections);
            }
            if (viewState.scrollPos) {
                editor.setScrollPos(viewState.scrollPos.x, viewState.scrollPos.y);
            }
        }
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_saveEditorViewState</h4>

    
    <div class="description"><p>Updates _viewStateCache from the given editor&#39;s actual current state</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _saveEditorViewState(editor) {
        _viewStateCache[editor.document.file.fullPath] = {
            selections: editor.getSelections(),
            scrollPos: editor.getScrollPos()
        };
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>_showCustomViewer</h4>

    
    <div class="description"><p>Append custom view to editor-holder</p>
</div>
    
<dl>
    <dt>provider</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Object</dd>
    <dd>custom view provider</dd>
    <dt>fullPath</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">string</dd>
    <dd>path to the file displayed in the custom view</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _showCustomViewer(provider, fullPath) {
        &#x2F;&#x2F; Don&#39;t show the same custom view again if file path
        &#x2F;&#x2F; and view provider are still the same.
        if (_currentlyViewedPath === fullPath &amp;&amp;
                _currentViewProvider === provider) {
            return;
        }
        
        &#x2F;&#x2F; Clean up currently viewing document or custom viewer
        DocumentManager._clearCurrentDocument();
        _removeCustomViewer();
    
        &#x2F;&#x2F; Hide the not-editor or reset current editor
        $(&quot;#not-editor&quot;).css(&quot;display&quot;, &quot;none&quot;);
        _nullifyEditor();
        
        _currentViewProvider = provider;
        
        &#x2F;&#x2F; add path, dimensions and file size to the view after loading image
        _$currentCustomViewer = provider.render(fullPath, $(&quot;#editor-holder&quot;));
        
        _setCurrentlyViewedPath(fullPath);
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_showEditor</h4>

    
    <div class="description"><p>Make the given document&#39;s editor visible in the UI, hiding whatever was
visible before. Creates a new editor if none is assigned.</p>
</div>
    
<dl>
    <dt>document</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Document</dd>
    <dd></dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _showEditor(document) {
        &#x2F;&#x2F; Hide whatever was visible before
        if (!_currentEditor) {
            $(&quot;#not-editor&quot;).css(&quot;display&quot;, &quot;none&quot;);
        } else {
            _saveEditorViewState(_currentEditor);
            _currentEditor.setVisible(false);
            _destroyEditorIfUnneeded(_currentEditorsDocument);
        }
        
        &#x2F;&#x2F; Ensure a main editor exists for this document to show in the UI
        var createdNewEditor = false;
        if (!document._masterEditor) {
            createdNewEditor = true;

            &#x2F;&#x2F; Performance (see #4757) Chrome wastes time messing with selection
            &#x2F;&#x2F; that will just be changed at end, so clear it for now
            if (window.getSelection &amp;&amp; window.getSelection().empty) {  &#x2F;&#x2F; Chrome
                window.getSelection().empty();
            }
            
            &#x2F;&#x2F; Editor doesn&#39;t exist: populate a new Editor with the text
            _createFullEditorForDocument(document);
        }
        
        _doShow(document);
        
        if (createdNewEditor) {
            _restoreEditorViewState(document._masterEditor);
        }
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_showNoEditor</h4>

    
    <div class="description"><p>Hide the currently visible editor and show a placeholder UI in its place</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _showNoEditor() {
        $(&quot;#not-editor&quot;).css(&quot;display&quot;, &quot;&quot;);
        _nullifyEditor();
    }
    
    function getCurrentlyViewedPath() {
        return _currentlyViewedPath;
    }
    
    function _clearCurrentlyViewedPath() {
        _currentlyViewedPath = null;
        $(exports).triggerHandler(&quot;currentlyViewedFileChange&quot;);
    }
    
    function _setCurrentlyViewedPath(fullPath) {
        _currentlyViewedPath = fullPath;
        $(exports).triggerHandler(&quot;currentlyViewedFileChange&quot;);
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_toggleInlineWidget</h4>

    
    <div class="description"><p>Closes any focused inline widget. Else, asynchronously asks providers to create one.</p>
</div>
    
<dl>
    <dt>providers</dt>
    <dd class="label label-info pull-left">Array.&lt;{priority:number,provider:function(...)}&gt;</dd>
    <dd>prioritized list of providers</dd>
    <dt>errorMsg</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">string</dd>
    <dd>Default message to display if no providers return non-null</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">!Promise</dd>
    <dd>A promise resolved with true if an inline widget is opened or false when closed. Rejected if there is neither an existing widget to close nor a provider willing to create a widget (or if no editor is open).</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _toggleInlineWidget(providers, errorMsg) {
        var result = new $.Deferred();
        
        if (_currentEditor) {
            var inlineWidget = getFocusedInlineWidget();
            
            if (inlineWidget) {
                &#x2F;&#x2F; an inline widget&#39;s editor has focus, so close it
                PerfUtils.markStart(PerfUtils.INLINE_WIDGET_CLOSE);
                inlineWidget.close().done(function () {
                    PerfUtils.addMeasurement(PerfUtils.INLINE_WIDGET_CLOSE);
                    &#x2F;&#x2F; return a resolved promise to CommandManager
                    result.resolve(false);
                });
            } else {
                &#x2F;&#x2F; main editor has focus, so create an inline editor
                _openInlineWidget(_currentEditor, providers, errorMsg).done(function () {
                    result.resolve(true);
                }).fail(function () {
                    result.reject();
                });
            }
        } else {
            &#x2F;&#x2F; Can not open an inline editor without a host editor
            result.reject();
        }
        
        return result.promise();
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>closeInlineWidget</h4>

    
    <div class="description"><p>Removes the given widget UI from the given hostEditor (agnostic of what the widget&#39;s content
is). The widget&#39;s onClosed() callback will be run as a result.</p>
</div>
    
<dl>
    <dt>hostEditor</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Editor</dd>
    <dd>The editor containing the widget.</dd>
    <dt>inlineWidget</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">InlineWidget</dd>
    <dd>The inline widget to close.</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>A promise that's resolved when the widget is fully closed.</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function closeInlineWidget(hostEditor, inlineWidget) {
        &#x2F;&#x2F; If widget has focus, return it to the hostEditor &amp; move the cursor to where the inline used to be
        if (inlineWidget.hasFocus()) {
            &#x2F;&#x2F; Place cursor back on the line just above the inline (the line from which it was opened)
            &#x2F;&#x2F; If cursor&#39;s already on that line, leave it be to preserve column position
            var widgetLine = hostEditor._codeMirror.getLineNumber(inlineWidget.info.line);
            var cursorLine = hostEditor.getCursorPos().line;
            if (cursorLine !== widgetLine) {
                hostEditor.setCursorPos({ line: widgetLine, pos: 0 });
            }
            
            hostEditor.focus();
        }
        
        return hostEditor.removeInlineWidget(inlineWidget);
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>createInlineEditorForDocument</h4>

    
    <div class="description"><p>Creates a new inline Editor instance for the given Document.
The editor is not yet visible or attached to a host editor.</p>
</div>
    
<dl>
    <dt>doc</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Document</dd>
    <dd>Document for the Editor's content</dd>
    <dt>range</dt>
    <span class="label label-nullable pull-left">nullable</span>
    <dd class="label label-info pull-left">{startLine:Number, endLine:Number}</dd>
    <dd>If specified, all lines outside the given range are hidden from the editor. Range is inclusive. Line numbers start at 0.</dd>
    <dt>inlineContent</dt>
    <dd class="label label-info pull-left">HTMLDivContainer</dd>
    <dd></dd>
    <dt>closeThisInline</dt>
    <dd class="label label-info pull-left">function(inlineWidget)</dd>
    <dd></dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">{content:DOMElement,editor:Editor}</dd>
    <dd></dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function createInlineEditorForDocument(doc, range, inlineContent) {
        &#x2F;&#x2F; Hide the container for the editor before creating it so that CodeMirror doesn&#39;t do extra work
        &#x2F;&#x2F; when initializing the document. When we construct the editor, we have to set its text and then
        &#x2F;&#x2F; set the (small) visible range that we show in the editor. If the editor is visible, CM has to
        &#x2F;&#x2F; render a large portion of the document before setting the visible range. By hiding the editor
        &#x2F;&#x2F; first and showing it after the visible range is set, we avoid that initial render.
        $(inlineContent).hide();
        var inlineEditor = _createEditorForDocument(doc, false, inlineContent, range);
        $(inlineContent).show();
        
        return { content: inlineContent, editor: inlineEditor };
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>focusEditor</h4>

    
    <div class="description"><p>Returns focus to the last visible editor that had focus. If no editor visible, does nothing.
This function should be called to restore editor focus after it has been temporarily
removed. For example, after a dialog with editable text is closed.</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function focusEditor() {
        if (_lastFocusedEditor) {
            _lastFocusedEditor.focus();
        }
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>getActiveEditor</h4>

    
    <div class="description"><p>Returns the current active editor (full-sized OR inline editor). This editor may not 
have focus at the moment, but it is visible and was the last editor that was given 
focus. Returns null if no editors are active.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">?Editor</dd>
    <dd></dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getActiveEditor() {
        return _lastFocusedEditor;
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>getCurrentFullEditor</h4>

    
    <div class="description"><p>Returns the visible full-size Editor corresponding to DocumentManager.getCurrentDocument()</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getCurrentFullEditor() {
        &#x2F;&#x2F; This *should* always be equivalent to DocumentManager.getCurrentDocument()._masterEditor
        return _currentEditor;
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>getCustomViewerForPath</h4>

    
    <div class="description"><p>Return the provider of a custom viewer for the given path if one exists.
Otherwise, return null.</p>
</div>
    
<dl>
    <dt>fullPath</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">string</dd>
    <dd>- file path to be checked for a custom viewer</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">?Object</dd>
    <dd></dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getCustomViewerForPath(fullPath) {
        var lang = LanguageManager.getLanguageForPath(fullPath);
        
        return _customViewerRegistry[lang.getId()];
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>getFocusedEditor</h4>

    
    <div class="description"><p>Returns the currently focused editor instance (full-sized OR inline editor).
This function is similar to getActiveEditor(), with one main difference: this
function will only return editors that currently have focus, whereas 
getActiveEditor() will return the last visible editor that was given focus (but
may not currently have focus because, for example, a dialog with editable text
is open).</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">?Editor</dd>
    <dd></dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getFocusedEditor() {
        if (_currentEditor) {
            
            &#x2F;&#x2F; See if any inlines have focus
            var focusedInline = _getFocusedInlineEditor();
            if (focusedInline) {
                return focusedInline;
            }

            &#x2F;&#x2F; otherwise, see if full-sized editor has focus
            if (_currentEditor.hasFocus()) {
                return _currentEditor;
            }
        }
        
        return null;
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>getFocusedInlineWidget</h4>

    
    <div class="description"><p>Returns the currently focused inline widget, if any.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">?InlineWidget</dd>
    <dd></dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getFocusedInlineWidget() {
        var result = null;
        
        if (_currentEditor) {
            _currentEditor.getInlineWidgets().forEach(function (widget) {
                if (widget.hasFocus()) {
                    result = widget;
                }
            });
        }
        
        return result;
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>getInlineEditors</h4>

    
    <div class="description"></div>
    
<dl>
    <dt>hostEditor</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Editor</dd>
    <dd></dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">Array.&lt;Editor&gt;</dd>
    <dd></dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getInlineEditors(hostEditor) {
        var inlineEditors = [];
        
        if (hostEditor) {
            hostEditor.getInlineWidgets().forEach(function (widget) {
                if (widget instanceof InlineTextEditor &amp;&amp; widget.editor) {
                    inlineEditors.push(widget.editor);
                }
            });
        }

        return inlineEditors;
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>notifyPathDeleted</h4>

    
    <div class="description"><p>Clears custom viewer for a file with a given path and displays 
an alternate file or the no editor view. 
If no param fullpath is passed an alternate file will be opened 
regardless of the current value of _currentlyViewedPath.
If param fullpath is provided then only if fullpath matches 
the currently viewed file an alternate file will be opened.</p>
</div>
    
<dl>
    <dt>fullPath</dt>
    <span class="label label-nullable pull-left">nullable</span>
    <dd class="label label-info pull-left">string</dd>
    <dd>- file path of deleted file.</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function notifyPathDeleted(fullPath) {
        function openAlternateFile() {
            var fileToOpen = DocumentManager.getNextPrevFile(1);
            if (fileToOpen) {
                CommandManager.execute(Commands.FILE_OPEN, {fullPath: fileToOpen.fullPath});
            } else {
                _removeCustomViewer();
                _showNoEditor();
                _setCurrentlyViewedPath();
            }
        }
        if (!fullPath || _currentlyViewedPath === fullPath) {
            openAlternateFile();
        }
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>registerCustomViewer</h4>

    
    <div class="description"><p>Registers a new custom viewer provider. To create an extension 
that enables Brackets to view files that cannot be shown as<br>text such as binary files, use this method to register a CustomViewer.</p>
<p>A CustomViewer, such as ImageViewer in Brackets core needs to 
implement and export two methods: </p>
<ul>
<li>render
  @param {!string} fullPath Path to the image file
  @param {!jQueryObject} $editorHolder The DOM element to append the view to.     </li>
<li>onRemove
signs off listeners and performs any required clean up when editor manager closes
the custom viewer</li>
</ul>
<p>By registering a CustomViewer with EditorManager  Brackets is
enabled to view files for one or more given file extensions. 
The first argument defines a so called languageId which bundles
file extensions to be handled by the custom viewer, see more
in LanguageManager JSDocs.
The second argument is an instance of the custom viewer that is ready to display 
files.</p>
</div>
    
<dl>
    <dt>languageId,</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">String</dd>
    <dd>i.e. string such as image, audio, etc to identify a language known to LanguageManager </dd>
    <dt>provider</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Object</dd>
    <dd>custom view provider instance</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function registerCustomViewer(langId, provider) {
        if (!_customViewerRegistry[langId]) {
            _customViewerRegistry[langId] = provider;
        } else {
            console.error(&quot;There already is a custom viewer registered for language id  \&quot;&quot; + langId + &quot;\&quot;&quot;);
        }
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>registerInlineDocsProvider</h4>

    
    <div class="description"><p>Registers a new inline docs provider. When Quick Docs is invoked each registered provider is
asked if it wants to provide inline docs given the current editor and cursor location.
An optional priority parameter is used to give providers with higher priority an opportunity
to provide an inline editor before providers with lower priority.</p>
</div>
    
<dl>
    <dt>provider</dt>
    <dd class="label label-info pull-left">function(!Editor,!{line:number,ch:number}):?($.Promise,string)</dd>
    <dd></dd>
    <dt>priority</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">number</dd>
    <dd>The provider returns a promise that will be resolved with an InlineWidget, or returns a string indicating why the provider cannot respond to this case (or returns null to indicate no reason).</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function registerInlineDocsProvider(provider, priority) {
        if (priority === undefined) {
            priority = 0;
        }
        _insertProviderSorted(_inlineDocsProviders, provider, priority);
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>registerInlineEditProvider</h4>

    
    <div class="description"><p>Registers a new inline editor provider. When Quick Edit is invoked each registered provider is
asked if it wants to provide an inline editor given the current editor and cursor location.
An optional priority parameter is used to give providers with higher priority an opportunity
to provide an inline editor before providers with lower priority.</p>
</div>
    
<dl>
    <dt>provider</dt>
    <dd class="label label-info pull-left">function(!Editor,!{line:number,ch:number}):?($.Promise,string)</dd>
    <dd></dd>
    <dt>priority</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">number</dd>
    <dd>The provider returns a promise that will be resolved with an InlineWidget, or returns a string indicating why the provider cannot respond to this case (or returns null to indicate no reason).</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function registerInlineEditProvider(provider, priority) {
        if (priority === undefined) {
            priority = 0;
        }
        _insertProviderSorted(_inlineEditProviders, provider, priority);
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>registerJumpToDefProvider</h4>

    
    <div class="description"><p>Registers a new jump-to-definition provider. When jump-to-definition is invoked each
registered provider is asked if it wants to provide jump-to-definition results, given
the current editor and cursor location. </p>
</div>
    
<dl>
    <dt>provider</dt>
    <dd class="label label-info pull-left">function(!Editor,!{line:number,ch:number}):?$.Promise</dd>
    <dd>The provider returns a promise that is resolved whenever it's done handling the operation, or returns null to indicate the provider doesn't want to respond to this case. It is entirely up to the provider to open the file containing the definition, select the appropriate text, etc.</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function registerJumpToDefProvider(provider) {
        _jumpToDefProviders.push(provider);
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>resizeEditor</h4>

    
    <div class="description"><p>Must be called whenever the size/visibility of editor area siblings is changed without going through
PanelManager or Resizer. Resizable panels created via PanelManager do not require this manual call.</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function resizeEditor() {
        if (!_editorHolder) {
            return;  &#x2F;&#x2F; still too early during init
        }
        &#x2F;&#x2F; PanelManager computes the correct editor-holder size &amp; calls us back with it, via _onEditorAreaResize()
        PanelManager._notifyLayoutChange();
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>setEditorHolder</h4>

    
    <div class="description"><p>Note: there are several paths that can lead to an editor getting destroyed</p>
<ul>
<li>file was in working set, but not in current editor; then closed (via working set &quot;X&quot; button)
  --&gt; handled by _onWorkingSetRemove()</li>
<li>file was in current editor, but not in working set; then navigated away from
  --&gt; handled by _onCurrentDocumentChange()</li>
<li>file was in current editor, but not in working set; then closed (via File &gt; Close) (and thus
implicitly navigated away from)
  --&gt; handled by _onCurrentDocumentChange()</li>
<li>file was in current editor AND in working set; then closed (via File &gt; Close OR working set
&quot;X&quot; button) (and thus implicitly navigated away from)
  --&gt; handled by _onWorkingSetRemove() currently, but could be _onCurrentDocumentChange()
  just as easily (depends on the order of events coming from DocumentManager)
Designates the DOM node that will contain the currently active editor instance. EditorManager
will own the content of this DOM node.</li>
</ul>
</div>
    
<dl>
    <dt>holder</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">jQueryObject</dd>
    <dd></dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function setEditorHolder(holder) {
        if (_currentEditor) {
            console.error(&quot;Cannot change editor area after an editor has already been created!&quot;);
            return;
        }
        
        _editorHolder = holder;
        
        resizeEditor();  &#x2F;&#x2F; if no files open at startup, we won&#39;t get called back later to resize the &quot;no-editor&quot; placeholder
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>showingCustomViewerForPath</h4>

    
    <div class="description"><p>Check whether the given file is currently open in a custom viewer.</p>
</div>
    
<dl>
    <dt>fullPath</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">string</dd>
    <dd>file path to check</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">boolean</dd>
    <dd>true if we have a custom viewer showing and the given file path matches the one in the custom viewer, false otherwise.</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function showingCustomViewerForPath(fullPath) {
        return (_currentViewProvider &amp;&amp; _currentlyViewedPath === fullPath);
    }</code></pre></div>
</section>

        </div>
      </div>
    </div>

    <script type="text/javascript" src="../../assets/js/prism.js"></script>
  </body>
</html>