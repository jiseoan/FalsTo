<!DOCTYPE html>
<html lang="en">
  <head>
    <title>FileSystemEntry - Brackets API</title>
    <link rel="stylesheet" href="../../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/typeahead.js-bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../../assets/css/prism.css">
    <link rel="stylesheet" href="../../assets/css/main.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="../../assets/js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../../assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="../../assets/js/typeahead.js"></script>
    <script type="text/javascript" src="../../assets/js/main.js"></script>
    <script src="http://use.edgefonts.net/source-sans-pro:n3,i3,n4,i4;source-code-pro.js"></script>

    <!-- Control the Flash of Unstyled Text (or FOUT) -->
    <style type="text/css">
        .wf-loading h1, .wf-loading h2, .wf-loading h3, .wf-loading h4,
        .wf-loading h5, .wf-loading h6, .wf-loading p, .wf-loading a {
            visibility: hidden;
        }
    </style>
    
    <script>
      window.moduleLevel = "../..";
    </script>
  </head>
  
  <body>
    <div class="row-fluid">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <a class="brand" href="../../index.html">Brackets API</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li><a href="#dependencies">Dependencies</a></li>
                <li><a href="#variables">Variables</a></li>
                <li><a href="#functions">Functions</a></li>
                <li><a href="#classes">Classes</a></li>
              </ul>
            </div>
            <input class="typeahead" placeholder="Search..." type="text" >
          </div>
        </div>
      </div>    </div>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="left-section">
            <h2 class="number-of-modules">Modules (145)</h2>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_"><i class="icon-folder-open"></i>[root]</a>
              </li>
            </ul>
            <ul id="package_" class="nav nav-list">
              <li><a href="../../modules/brackets.html">brackets</a></li>
              <li><a href="../../modules/dependencies.html">dependencies</a></li>
              <li><a href="../../modules/main.html">main</a></li>
              <li><a href="../../modules/strings.html">strings</a></li>
              <li><a href="../../modules/xorigin.html">xorigin</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_command"><i class="icon-folder-open"></i>command</a>
              </li>
            </ul>
            <ul id="package_command" class="nav nav-list">
              <li><a href="../../modules/command/CommandManager.html">CommandManager</a></li>
              <li><a href="../../modules/command/Commands.html">Commands</a></li>
              <li><a href="../../modules/command/DefaultMenus.html">DefaultMenus</a></li>
              <li><a href="../../modules/command/KeyBindingManager.html">KeyBindingManager</a></li>
              <li><a href="../../modules/command/Menus.html">Menus</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_document"><i class="icon-folder-open"></i>document</a>
              </li>
            </ul>
            <ul id="package_document" class="nav nav-list">
              <li><a href="../../modules/document/ChangedDocumentTracker.html">ChangedDocumentTracker</a></li>
              <li><a href="../../modules/document/Document.html">Document</a></li>
              <li><a href="../../modules/document/DocumentCommandHandlers.html">DocumentCommandHandlers</a></li>
              <li><a href="../../modules/document/DocumentManager.html">DocumentManager</a></li>
              <li><a href="../../modules/document/InMemoryFile.html">InMemoryFile</a></li>
              <li><a href="../../modules/document/TextRange.html">TextRange</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_editor"><i class="icon-folder-open"></i>editor</a>
              </li>
            </ul>
            <ul id="package_editor" class="nav nav-list">
              <li><a href="../../modules/editor/CodeHintList.html">CodeHintList</a></li>
              <li><a href="../../modules/editor/CodeHintManager.html">CodeHintManager</a></li>
              <li><a href="../../modules/editor/CSSInlineEditor.html">CSSInlineEditor</a></li>
              <li><a href="../../modules/editor/Editor.html">Editor</a></li>
              <li><a href="../../modules/editor/EditorCommandHandlers.html">EditorCommandHandlers</a></li>
              <li><a href="../../modules/editor/EditorManager.html">EditorManager</a></li>
              <li><a href="../../modules/editor/EditorOptionHandlers.html">EditorOptionHandlers</a></li>
              <li><a href="../../modules/editor/EditorStatusBar.html">EditorStatusBar</a></li>
              <li><a href="../../modules/editor/ImageViewer.html">ImageViewer</a></li>
              <li><a href="../../modules/editor/InlineTextEditor.html">InlineTextEditor</a></li>
              <li><a href="../../modules/editor/InlineWidget.html">InlineWidget</a></li>
              <li><a href="../../modules/editor/MultiRangeInlineEditor.html">MultiRangeInlineEditor</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_extensibility"><i class="icon-folder-open"></i>extensibility</a>
              </li>
            </ul>
            <ul id="package_extensibility" class="nav nav-list">
              <li><a href="../../modules/extensibility/ExtensionManager.html">ExtensionManager</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerDialog.html">ExtensionManagerDialog</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerView.html">ExtensionManagerView</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerViewModel.html">ExtensionManagerViewModel</a></li>
              <li><a href="../../modules/extensibility/InstallExtensionDialog.html">InstallExtensionDialog</a></li>
              <li><a href="../../modules/extensibility/Package.html">Package</a></li>
              <li><a href="../../modules/extensibility/registry_utils.html">registry_utils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_file"><i class="icon-folder-open"></i>file</a>
              </li>
            </ul>
            <ul id="package_file" class="nav nav-list">
              <li><a href="../../modules/file/FileUtils.html">FileUtils</a></li>
              <li><a href="../../modules/file/NativeFileError.html">NativeFileError</a></li>
              <li><a href="../../modules/file/NativeFileSystem.html">NativeFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem"><i class="icon-folder-open"></i>filesystem</a>
              </li>
            </ul>
            <ul id="package_filesystem" class="nav nav-list">
              <li><a href="../../modules/filesystem/Directory.html">Directory</a></li>
              <li><a href="../../modules/filesystem/File.html">File</a></li>
              <li><a href="../../modules/filesystem/FileIndex.html">FileIndex</a></li>
              <li><a href="../../modules/filesystem/FileSystem.html">FileSystem</a></li>
              <li><a href="../../modules/filesystem/FileSystemEntry.html">FileSystemEntry</a></li>
              <li><a href="../../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
              <li><a href="../../modules/filesystem/FileSystemStats.html">FileSystemStats</a></li>
              <li><a href="../../modules/filesystem/WatchedRoot.html">WatchedRoot</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/AppshellFileSystem.html">AppshellFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell_node"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell_node" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/node/FileWatcherDomain.html">FileWatcherDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_help"><i class="icon-folder-open"></i>help</a>
              </li>
            </ul>
            <ul id="package_help" class="nav nav-list">
              <li><a href="../../modules/help/HelpCommandHandlers.html">HelpCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_language"><i class="icon-folder-open"></i>language</a>
              </li>
            </ul>
            <ul id="package_language" class="nav nav-list">
              <li><a href="../../modules/language/CodeInspection.html">CodeInspection</a></li>
              <li><a href="../../modules/language/CSSUtils.html">CSSUtils</a></li>
              <li><a href="../../modules/language/HTMLDOMDiff.html">HTMLDOMDiff</a></li>
              <li><a href="../../modules/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../modules/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
              <li><a href="../../modules/language/HTMLTokenizer.html">HTMLTokenizer</a></li>
              <li><a href="../../modules/language/HTMLUtils.html">HTMLUtils</a></li>
              <li><a href="../../modules/language/JSUtils.html">JSUtils</a></li>
              <li><a href="../../modules/language/LanguageManager.html">LanguageManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Agents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Agents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Agents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Agents/ConsoleAgent.html">ConsoleAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/CSSAgent.html">CSSAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMAgent.html">DOMAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMHelpers.html">DOMHelpers</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMNode.html">DOMNode</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/EditAgent.html">EditAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/GotoAgent.html">GotoAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/HighlightAgent.html">HighlightAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/NetworkAgent.html">NetworkAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteAgent.html">RemoteAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteFunctions.html">RemoteFunctions</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/ScriptAgent.html">ScriptAgent</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Documents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Documents/CSSDocument.html">CSSDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/HTMLDocument.html">HTMLDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/JSDocument.html">JSDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Inspector"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Inspector</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Inspector" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Inspector/Inspector.html">Inspector</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment"><i class="icon-folder-open"></i>LiveDevelopment</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/LiveDevelopment.html">LiveDevelopment</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevServerManager.html">LiveDevServerManager</a></li>
              <li><a href="../../modules/LiveDevelopment/main.html">main</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Servers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Servers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Servers" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Servers/BaseServer.html">BaseServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/FileServer.html">FileServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/UserServer.html">UserServer</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_preferences"><i class="icon-folder-open"></i>preferences</a>
              </li>
            </ul>
            <ul id="package_preferences" class="nav nav-list">
              <li><a href="../../modules/preferences/PreferencesBase.html">PreferencesBase</a></li>
              <li><a href="../../modules/preferences/PreferencesDialogs.html">PreferencesDialogs</a></li>
              <li><a href="../../modules/preferences/PreferencesImpl.html">PreferencesImpl</a></li>
              <li><a href="../../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
              <li><a href="../../modules/preferences/PreferenceStorage.html">PreferenceStorage</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_project"><i class="icon-folder-open"></i>project</a>
              </li>
            </ul>
            <ul id="package_project" class="nav nav-list">
              <li><a href="../../modules/project/FileIndexManager.html">FileIndexManager</a></li>
              <li><a href="../../modules/project/FileSyncManager.html">FileSyncManager</a></li>
              <li><a href="../../modules/project/FileViewController.html">FileViewController</a></li>
              <li><a href="../../modules/project/ProjectManager.html">ProjectManager</a></li>
              <li><a href="../../modules/project/SidebarView.html">SidebarView</a></li>
              <li><a href="../../modules/project/WorkingSetSort.html">WorkingSetSort</a></li>
              <li><a href="../../modules/project/WorkingSetView.html">WorkingSetView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search"><i class="icon-folder-open"></i>search</a>
              </li>
            </ul>
            <ul id="package_search" class="nav nav-list">
              <li><a href="../../modules/search/FileFilters.html">FileFilters</a></li>
              <li><a href="../../modules/search/FindBar.html">FindBar</a></li>
              <li><a href="../../modules/search/FindInFiles.html">FindInFiles</a></li>
              <li><a href="../../modules/search/FindInFilesUI.html">FindInFilesUI</a></li>
              <li><a href="../../modules/search/FindReplace.html">FindReplace</a></li>
              <li><a href="../../modules/search/FindUtils.html">FindUtils</a></li>
              <li><a href="../../modules/search/QuickOpen.html">QuickOpen</a></li>
              <li><a href="../../modules/search/ScrollTrackMarkers.html">ScrollTrackMarkers</a></li>
              <li><a href="../../modules/search/SearchModel.html">SearchModel</a></li>
              <li><a href="../../modules/search/SearchResultsView.html">SearchResultsView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_utils"><i class="icon-folder-open"></i>utils</a>
              </li>
            </ul>
            <ul id="package_utils" class="nav nav-list">
              <li><a href="../../modules/utils/AnimationUtils.html">AnimationUtils</a></li>
              <li><a href="../../modules/utils/AppInit.html">AppInit</a></li>
              <li><a href="../../modules/utils/Async.html">Async</a></li>
              <li><a href="../../modules/utils/BuildInfoUtils.html">BuildInfoUtils</a></li>
              <li><a href="../../modules/utils/CollectionUtils.html">CollectionUtils</a></li>
              <li><a href="../../modules/utils/ColorUtils.html">ColorUtils</a></li>
              <li><a href="../../modules/utils/DeprecationWarning.html">DeprecationWarning</a></li>
              <li><a href="../../modules/utils/DragAndDrop.html">DragAndDrop</a></li>
              <li><a href="../../modules/utils/DropdownEventHandler.html">DropdownEventHandler</a></li>
              <li><a href="../../modules/utils/ExtensionLoader.html">ExtensionLoader</a></li>
              <li><a href="../../modules/utils/ExtensionUtils.html">ExtensionUtils</a></li>
              <li><a href="../../modules/utils/Global.html">Global</a></li>
              <li><a href="../../modules/utils/KeyEvent.html">KeyEvent</a></li>
              <li><a href="../../modules/utils/NativeApp.html">NativeApp</a></li>
              <li><a href="../../modules/utils/NodeConnection.html">NodeConnection</a></li>
              <li><a href="../../modules/utils/NodeDomain.html">NodeDomain</a></li>
              <li><a href="../../modules/utils/PerfUtils.html">PerfUtils</a></li>
              <li><a href="../../modules/utils/Resizer.html">Resizer</a></li>
              <li><a href="../../modules/utils/ShellAPI.html">ShellAPI</a></li>
              <li><a href="../../modules/utils/StringMatch.html">StringMatch</a></li>
              <li><a href="../../modules/utils/StringUtils.html">StringUtils</a></li>
              <li><a href="../../modules/utils/TokenUtils.html">TokenUtils</a></li>
              <li><a href="../../modules/utils/UpdateNotification.html">UpdateNotification</a></li>
              <li><a href="../../modules/utils/UrlParams.html">UrlParams</a></li>
              <li><a href="../../modules/utils/ValidationUtils.html">ValidationUtils</a></li>
              <li><a href="../../modules/utils/ViewUtils.html">ViewUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_view"><i class="icon-folder-open"></i>view</a>
              </li>
            </ul>
            <ul id="package_view" class="nav nav-list">
              <li><a href="../../modules/view/PanelManager.html">PanelManager</a></li>
              <li><a href="../../modules/view/ViewCommandHandlers.html">ViewCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_widgets"><i class="icon-folder-open"></i>widgets</a>
              </li>
            </ul>
            <ul id="package_widgets" class="nav nav-list">
              <li><a href="../../modules/widgets/bootstrap-alerts.html">bootstrap-alerts</a></li>
              <li><a href="../../modules/widgets/bootstrap-button.html">bootstrap-button</a></li>
              <li><a href="../../modules/widgets/bootstrap-dropdown.html">bootstrap-dropdown</a></li>
              <li><a href="../../modules/widgets/bootstrap-modal.html">bootstrap-modal</a></li>
              <li><a href="../../modules/widgets/bootstrap-popover.html">bootstrap-popover</a></li>
              <li><a href="../../modules/widgets/bootstrap-scrollspy.html">bootstrap-scrollspy</a></li>
              <li><a href="../../modules/widgets/bootstrap-tab.html">bootstrap-tab</a></li>
              <li><a href="../../modules/widgets/bootstrap-tooltip.html">bootstrap-tooltip</a></li>
              <li><a href="../../modules/widgets/bootstrap-twipsy-mod.html">bootstrap-twipsy-mod</a></li>
              <li><a href="../../modules/widgets/DefaultDialogs.html">DefaultDialogs</a></li>
              <li><a href="../../modules/widgets/Dialogs.html">Dialogs</a></li>
              <li><a href="../../modules/widgets/DropdownButton.html">DropdownButton</a></li>
              <li><a href="../../modules/widgets/ModalBar.html">ModalBar</a></li>
              <li><a href="../../modules/widgets/PopUpManager.html">PopUpManager</a></li>
              <li><a href="../../modules/widgets/StatusBar.html">StatusBar</a></li>
            </ul>
          </div>
        </div>
        <div class="module span9">
<h1>FileSystemEntry</h1>


<section class="description">
    <h3>Description</h3>
    
    <div><p>To ensure cache coherence, current and future asynchronous state-changing 
operations of FileSystemEntry and its subclasses should implement the 
following high-level sequence of steps:</p>
<ol>
<li>Block external filesystem change events;</li>
<li>Execute the low-level state-changing operation;</li>
<li>Update the internal filesystem state, including caches;</li>
<li>Apply the callback;</li>
<li>Fire an appropriate internal change notification; and</li>
<li>Unblock external change events.</li>
</ol>
<p>Note that because internal filesystem state is updated first, both the original 
caller and the change notification listeners observe filesystem state that is
current w.r.t. the operation. Furthermore, because external change events are
blocked before the operation begins, listeners will only receive the internal
change event for the operation and not additional (or possibly inconsistent)
external change events.</p>
<p>State-changing operations that block external filesystem change events must
take care to always subsequently unblock the external change events in all
control paths. It is safe to assume, however, that the underlying impl will
always apply the callback with some value.</p>
<p>Caches should be conservative. Consequently, the entry&#39;s cached data should
always be cleared if the underlying impl&#39;s operation fails. This is the case
event for read-only operations because an unexpected failure implies that the
system is in an unknown state. The entry should communicate this by failing
where appropriate, and should not use the cache to hide failure.</p>
<p>Only watched entries should make use of cached data because change events are
only expected for such entries, and change events are used to granularly
invalidate out-of-date caches.</p>
<p>By convention, callbacks are optional for asynchronous, state-changing
operations, but required for read-only operations. The first argument to the
callback should always be a nullable error string from FileSystemError.</p>
</div>
</section>

<section id="dependencies">
    <h3>Dependencies</h3>

    <ul class="nav nav-list">
        <li><a href="..&#x2F;../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
        <li><a href="..&#x2F;../modules/filesystem/WatchedRoot.html">WatchedRoot</a></li>
    </ul>

</section>
<section id="variables">
    
    <h3>Variables 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>nextId</h4>

    
<dl>
</dl>
    <div class="description"><p>Counter to give every entry a unique id</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var nextId = 0;</code></pre></div>
</section>


<section id="classes">
    
    <h2>Classes</h2>

    <div class="well">
        <div class="member public">
            
            <span class="pull-right scope">Constructor</span>
            
            <h4>FileSystemEntry</h4>
            <em><p>Model for a file system entry. This is the base class for File and Directory,
and is never used directly.</p>
<p>See the File, Directory, and FileSystem classes for more details.</p>
</em>
            
            <dl>
                <dt>path</dt>
                <dd class="label label-info pull-left">string</dd>
                <dd>The path for this entry.</dd>
                <dt>fileSystem</dt>
                <dd class="label label-info pull-left">FileSystem</dd>
                <dd>The file system associated with this entry.</dd>
            </dl>

            <button class="btn btn-small show-code">Show code</button>
            <pre class="code language-javascript"><code class="language-javascript">    function FileSystemEntry(path, fileSystem) {
        this._setPath(path);
        this._fileSystem = fileSystem;
        this._id = nextId++;
    }
    
    &#x2F;&#x2F; Add &quot;fullPath&quot;, &quot;name&quot;, &quot;parent&quot;, &quot;id&quot;, &quot;isFile&quot; and &quot;isDirectory&quot; getters
    Object.defineProperties(FileSystemEntry.prototype, {
        &quot;fullPath&quot;: {
            get: function () { return this._path; },
            set: function () { throw new Error(&quot;Cannot set fullPath&quot;); }
        },
        &quot;name&quot;: {
            get: function () { return this._name; },
            set: function () { throw new Error(&quot;Cannot set name&quot;); }
        },
        &quot;parentPath&quot;: {
            get: function () { return this._parentPath; },
            set: function () { throw new Error(&quot;Cannot set parentPath&quot;); }
        },
        &quot;id&quot;: {
            get: function () { return this._id; },
            set: function () { throw new Error(&quot;Cannot set id&quot;); }
        },
        &quot;isFile&quot;: {
            get: function () { return this._isFile; },
            set: function () { throw new Error(&quot;Cannot set isFile&quot;); }
        },
        &quot;isDirectory&quot;: {
            get: function () { return this._isDirectory; },
            set: function () { throw new Error(&quot;Cannot set isDirectory&quot;); }
        },
        &quot;_impl&quot;: {
            get: function () { return this._fileSystem._impl; },
            set: function () { throw new Error(&quot;Cannot set _impl&quot;); }
        }
    });</code></pre>
        </div>
        
        <section class="properties ">

            <h3>Properties 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>            </h3>

<div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_fileSystem</h4>

    
<dl>
    <dt>Type</dt>
    <dd>!FileSystem</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Parent file system.</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._fileSystem = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_isDirectory</h4>

    
<dl>
    <dt>Type</dt>
    <dd>boolean</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Whether or not the entry is a directory</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._isDirectory = false;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_isFile</h4>

    
<dl>
    <dt>Type</dt>
    <dd>boolean</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Whether or not the entry is a file</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._isFile = false;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_name</h4>

    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>The name of this entry.</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._name = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_parentPath</h4>

    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>The parent of this entry.</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._parentPath = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_path</h4>

    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>The path of this entry.</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._path = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_stat</h4>

    
<dl>
    <dt>Type</dt>
    <dd>?FileSystemStats</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Cached stat object for this file.</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._stat = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_watchedRoot</h4>

    
<dl>
    <dt>Type</dt>
    <dd>entry: File, Directory, filter: function(FileSystemEntry):boolean, active: boolean</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Cached copy of this entry&#39;s watched root</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._watchedRoot = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_watchedRootFilterResult</h4>

    
<dl>
    <dt>Type</dt>
    <dd>boolean</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Cached result of _watchedRoot.filter(this.name, this.parentPath).</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._watchedRootFilterResult = false;</code></pre></div>
        </section>

        <section class="methods">

            <h3>Methods 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>            </h3>

<div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_clearCachedData</h4>

    
    <div class="description"><p>Clear any cached data for this entry</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._clearCachedData = function () {
        this._stat = undefined;
    };</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_isWatched</h4>

    
    <div class="description"><p>Determines whether or not the entry is watched.</p>
</div>
    
<dl>
    <dt>relaxed</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">boolean</dd>
    <dd>If falsey, the method will only return true if the watched root is fully active. If true, the method will return true if the watched root is either starting up or fully active.</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">boolean</dd>
    <dd></dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._isWatched = function (relaxed) {
        var watchedRoot = this._watchedRoot,
            filterResult = this._watchedRootFilterResult;
        
        if (!watchedRoot) {
            watchedRoot = this._fileSystem._findWatchedRootForPath(this._path);
            
            if (watchedRoot) {
                this._watchedRoot = watchedRoot;
                filterResult = watchedRoot.filter(this._name, this._parentPath);
                this._watchedRootFilterResult = filterResult;
            }
        }
        
        if (watchedRoot) {
            if (watchedRoot.status === WatchedRoot.ACTIVE ||
                    (relaxed &amp;&amp; watchedRoot.status === WatchedRoot.STARTING)) {
                return filterResult;
            } else {
                &#x2F;&#x2F; We had a watched root, but it&#39;s no longer active, so it must now be invalid.
                this._watchedRoot = undefined;
                this._watchedRootFilterResult = false;
                this._clearCachedData();
            }
        }
        return false;
    };</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_setPath</h4>

    
    <div class="description"><p>Update the path for this entry</p>
</div>
    
<dl>
    <dt>newPath</dt>
    <dd class="label label-info pull-left">String</dd>
    <dd></dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._setPath = function (newPath) {
        var parts = newPath.split(&quot;&#x2F;&quot;);
        if (this.isDirectory) {
            parts.pop(); &#x2F;&#x2F; Remove the empty string after last trailing &quot;&#x2F;&quot;
        }
        this._name = parts[parts.length - 1];
        parts.pop(); &#x2F;&#x2F; Remove name
        
        if (parts.length &gt; 0) {
            this._parentPath = parts.join(&quot;&#x2F;&quot;) + &quot;&#x2F;&quot;;
        } else {
            &#x2F;&#x2F; root directories have no parent path
            this._parentPath = null;
        }
        
        this._path = newPath;
        
        var watchedRoot = this._watchedRoot;
        if (watchedRoot) {
            if (newPath.indexOf(watchedRoot.entry.fullPath) === 0) {
                &#x2F;&#x2F; Update watchedRootFilterResult
                this._watchedRootFilterResult = watchedRoot.filter(this._name, this._parentPath);
            } else {
                &#x2F;&#x2F; The entry was moved outside of the watched root
                this._watchedRoot = null;
                this._watchedRootFilterResult = false;
            }
        }
    };</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_visitHelper</h4>

    
    <div class="description"><p>Private helper function for FileSystemEntry.visit that requires sanitized options.</p>
</div>
    
<dl>
    <dt>stats</dt>
    <dd class="label label-info pull-left">FileSystemStats</dd>
    <dd>- the stats for this entry</dd>
    <dt>visitedPaths</dt>
    <dd class="label label-info pull-left">{string: boolean}</dd>
    <dd>- the set of fullPaths that have already been visited</dd>
    <dt>visitor</dt>
    <dd class="label label-info pull-left">function(FileSystemEntry): boolean</dd>
    <dd>- A visitor function, which is applied to descendent FileSystemEntry objects. If the function returns false for a particular Directory entry, that directory's descendents will not be visited.</dd>
    <dt>options</dt>
    <dd class="label label-info pull-left">{maxDepth: number,maxEntriesCounter: {value: number}}</dd>
    <dd></dd>
    <dt>callback</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">function(?string)</dd>
    <dd>Callback with single FileSystemError string parameter.</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype._visitHelper = function (stats, visitedPaths, visitor, options, callback) {
        var maxDepth = options.maxDepth,
            maxEntriesCounter = options.maxEntriesCounter;
        
        if (maxEntriesCounter.value-- &lt;= 0 || maxDepth-- &lt; 0) {
            &#x2F;&#x2F; The outer FileSystemEntry.visit call is responsible for applying
            &#x2F;&#x2F; the main callback to FileSystemError.TOO_MANY_FILES in this case
            callback(null);
            return;
        }
        
        if (this.isDirectory) {
            var visitedPath = stats.realPath || this.fullPath;
    
            if (visitedPaths.hasOwnProperty(visitedPath)) {
                &#x2F;&#x2F; Link cycle detected
                callback(null);
                return;
            }
            
            visitedPaths[visitedPath] = true;
        }
        
        if (!visitor(this) || this.isFile) {
            callback(null);
            return;
        }
        
        this.getContents(function (err, entries, entriesStats) {
            if (err) {
                callback(err);
                return;
            }
            
            var counter = entries.length;
            if (counter === 0) {
                callback(null);
                return;
            }

            function helperCallback(err) {
                if (--counter === 0) {
                    callback(null);
                }
            }
            
            var nextOptions = {
                maxDepth: maxDepth,
                maxEntriesCounter: maxEntriesCounter
            };
            
            entries.forEach(function (entry, index) {
                var stats = entriesStats[index];
                entry._visitHelper(stats, visitedPaths, visitor, nextOptions, helperCallback);
            });
        }.bind(this));
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>exists</h4>

    
    <div class="description"><p>Check to see if the entry exists on disk. Note that there will NOT be an
error returned if the file does not exist on the disk; in that case the
error parameter will be null and the boolean will be false. The error 
parameter will only be truthy when an unexpected error was encountered
during the test, in which case the state of the entry should be considered
unknown.</p>
</div>
    
<dl>
    <dt>callback</dt>
    <dd class="label label-info pull-left">function (?string,boolean)</dd>
    <dd>Callback with a FileSystemError string or a boolean indicating whether or not the file exists.</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype.exists = function (callback) {
        if (this._stat) {
            callback(null, true);
            return;
        }
        
        this._impl.exists(this._path, function (err, exists) {
            if (err) {
                this._clearCachedData();
                callback(err);
                return;
            }
            
            if (!exists) {
                this._clearCachedData();
            }
            
            callback(null, exists);
        }.bind(this));
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>moveToTrash</h4>

    
    <div class="description"><p>Move this entry to the trash. If the underlying file system doesn&#39;t support move
to trash, the item is permanently deleted.</p>
</div>
    
<dl>
    <dt>callback</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">function (?string)</dd>
    <dd>Callback with a single FileSystemError string parameter.</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype.moveToTrash = function (callback) {
        if (!this._impl.moveToTrash) {
            this.unlink(callback);
            return;
        }

        callback = callback || function () {};

        &#x2F;&#x2F; Block external change events until after the write has finished
        this._fileSystem._beginChange();
        
        this._clearCachedData();
        this._impl.moveToTrash(this._path, function (err) {
            var parent = this._fileSystem.getDirectoryForPath(this.parentPath);

            &#x2F;&#x2F; Update internal filesystem state
            this._fileSystem._handleDirectoryChange(parent, function (added, removed) {
                try {
                    &#x2F;&#x2F; Notify the caller
                    callback(err);
                } finally {
                    &#x2F;&#x2F; Notify change listeners
                    this._fileSystem._fireChangeEvent(parent, added, removed);
                    
                    &#x2F;&#x2F; Unblock external change events
                    this._fileSystem._endChange();
                }
            }.bind(this));
        }.bind(this));
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>rename</h4>

    
    <div class="description"><p>Rename this entry.</p>
</div>
    
<dl>
    <dt>newFullPath</dt>
    <dd class="label label-info pull-left">string</dd>
    <dd>New path & name for this entry.</dd>
    <dt>callback</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">function (?string)</dd>
    <dd>Callback with a single FileSystemError string parameter.</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype.rename = function (newFullPath, callback) {
        callback = callback || function () {};
        
        &#x2F;&#x2F; Block external change events until after the write has finished
        this._fileSystem._beginChange();
        
        this._impl.rename(this._path, newFullPath, function (err) {
            var oldFullPath = this._path;
            
            try {
                if (err) {
                    this._clearCachedData();
                    callback(err);
                    return;
                }
                
                &#x2F;&#x2F; Update internal filesystem state
                this._fileSystem._handleRename(this._path, newFullPath, this.isDirectory);
                
                try {
                    &#x2F;&#x2F; Notify the caller
                    callback(null);
                } finally {
                    &#x2F;&#x2F; Notify rename listeners
                    this._fileSystem._fireRenameEvent(oldFullPath, newFullPath);
                }
            } finally {
                &#x2F;&#x2F; Unblock external change events
                this._fileSystem._endChange();
            }
        }.bind(this));
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>stat</h4>

    
    <div class="description"><p>Returns the stats for the entry.</p>
</div>
    
<dl>
    <dt>callback</dt>
    <dd class="label label-info pull-left">function (?string,FileSystemStats=)</dd>
    <dd>Callback with a FileSystemError string or FileSystemStats object.</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype.stat = function (callback) {
        if (this._stat) {
            callback(null, this._stat);
            return;
        }
        
        this._impl.stat(this._path, function (err, stat) {
            if (err) {
                this._clearCachedData();
                callback(err);
                return;
            }
            
            if (this._isWatched()) {
                this._stat = stat;
            }
            
            callback(null, stat);
        }.bind(this));
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>toString</h4>

    
    <div class="description"><p>Helpful toString for debugging purposes</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype.toString = function () {
        return &quot;[&quot; + (this.isDirectory ? &quot;Directory &quot; : &quot;File &quot;) + this._path + &quot;]&quot;;
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>unlink</h4>

    
    <div class="description"><p>Permanently delete this entry. For Directories, this will delete the directory
and all of its contents. For reversible delete, see moveToTrash().</p>
</div>
    
<dl>
    <dt>callback</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">function (?string)</dd>
    <dd>Callback with a single FileSystemError string parameter.</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype.unlink = function (callback) {
        callback = callback || function () {};
        
        &#x2F;&#x2F; Block external change events until after the write has finished
        this._fileSystem._beginChange();
        
        this._clearCachedData();
        this._impl.unlink(this._path, function (err) {
            var parent = this._fileSystem.getDirectoryForPath(this.parentPath);

            &#x2F;&#x2F; Update internal filesystem state
            this._fileSystem._handleDirectoryChange(parent, function (added, removed) {
                try {
                    &#x2F;&#x2F; Notify the caller 
                    callback(err);
                } finally {
                    &#x2F;&#x2F; Notify change listeners
                    this._fileSystem._fireChangeEvent(parent, added, removed);
                    
                    &#x2F;&#x2F; Unblock external change events
                    this._fileSystem._endChange();
                }
            }.bind(this));
        }.bind(this));
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>visit</h4>

    
    <div class="description"><p>Visit this entry and its descendents with the supplied visitor function.
Correctly handles symbolic link cycles and options can be provided to limit
search depth and total number of entries visited. No particular traversal
order is guaranteed; instead of relying on such an order, it is preferable
to use the visit function to build a list of visited entries, sort those
entries as desired, and then process them. Whenever possible, deep
filesystem traversals should use this method. </p>
</div>
    
<dl>
    <dt>visitor</dt>
    <dd class="label label-info pull-left">function(FileSystemEntry): boolean</dd>
    <dd>- A visitor function, which is applied to this entry and all descendent FileSystemEntry objects. If the function returns false for a particular Directory entry, that directory's descendents will not be visited.</dd>
    <dt>options</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">{maxDepth: number=, maxEntries: number=}</dd>
    <dd></dd>
    <dt>callback</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">function(?string)</dd>
    <dd>Callback with single FileSystemError string parameter.</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileSystemEntry.prototype.visit = function (visitor, options, callback) {
        if (typeof options === &quot;function&quot;) {
            callback = options;
            options = {};
        } else {
            if (options === undefined) {
                options = {};
            }
            
            callback = callback || function () {};
        }
        
        if (options.maxDepth === undefined) {
            options.maxDepth = VISIT_DEFAULT_MAX_DEPTH;
        }
        
        if (options.maxEntries === undefined) {
            options.maxEntries = VISIT_DEFAULT_MAX_ENTRIES;
        }

        options.maxEntriesCounter = { value: options.maxEntries };
        
        this.stat(function (err, stats) {
            if (err) {
                callback(err);
                return;
            }
            
            this._visitHelper(stats, {}, visitor, options, function (err) {
                if (callback) {
                    if (err) {
                        callback(err);
                        return;
                    }
                    
                    if (options.maxEntriesCounter.value &lt; 0) {
                        callback(FileSystemError.TOO_MANY_ENTRIES);
                        return;
                    }
                    
                    callback(null);
                }
            }.bind(this));
        }.bind(this));
    };
    
    &#x2F;&#x2F; Export this class
    module.exports = FileSystemEntry;
});</code></pre></div>
        </section>

    </div>

</section>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="../../assets/js/prism.js"></script>
  </body>
</html>