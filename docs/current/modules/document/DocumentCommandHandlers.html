<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DocumentCommandHandlers - Brackets API</title>
    <link rel="stylesheet" href="../../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/typeahead.js-bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../../assets/css/prism.css">
    <link rel="stylesheet" href="../../assets/css/main.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="../../assets/js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../../assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="../../assets/js/typeahead.js"></script>
    <script type="text/javascript" src="../../assets/js/main.js"></script>
    <script src="http://use.edgefonts.net/source-sans-pro:n3,i3,n4,i4;source-code-pro.js"></script>

    <!-- Control the Flash of Unstyled Text (or FOUT) -->
    <style type="text/css">
        .wf-loading h1, .wf-loading h2, .wf-loading h3, .wf-loading h4,
        .wf-loading h5, .wf-loading h6, .wf-loading p, .wf-loading a {
            visibility: hidden;
        }
    </style>
    
    <script>
      window.moduleLevel = "../..";
    </script>
  </head>
  
  <body>
    <div class="row-fluid">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <a class="brand" href="../../index.html">Brackets API</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li><a href="#dependencies">Dependencies</a></li>
                <li><a href="#variables">Variables</a></li>
                <li><a href="#functions">Functions</a></li>
                <li><a href="#classes">Classes</a></li>
              </ul>
            </div>
            <input class="typeahead" placeholder="Search..." type="text" >
          </div>
        </div>
      </div>    </div>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="left-section">
            <h2 class="number-of-modules">Modules (145)</h2>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_"><i class="icon-folder-open"></i>[root]</a>
              </li>
            </ul>
            <ul id="package_" class="nav nav-list">
              <li><a href="../../modules/brackets.html">brackets</a></li>
              <li><a href="../../modules/dependencies.html">dependencies</a></li>
              <li><a href="../../modules/main.html">main</a></li>
              <li><a href="../../modules/strings.html">strings</a></li>
              <li><a href="../../modules/xorigin.html">xorigin</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_command"><i class="icon-folder-open"></i>command</a>
              </li>
            </ul>
            <ul id="package_command" class="nav nav-list">
              <li><a href="../../modules/command/CommandManager.html">CommandManager</a></li>
              <li><a href="../../modules/command/Commands.html">Commands</a></li>
              <li><a href="../../modules/command/DefaultMenus.html">DefaultMenus</a></li>
              <li><a href="../../modules/command/KeyBindingManager.html">KeyBindingManager</a></li>
              <li><a href="../../modules/command/Menus.html">Menus</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_document"><i class="icon-folder-open"></i>document</a>
              </li>
            </ul>
            <ul id="package_document" class="nav nav-list">
              <li><a href="../../modules/document/ChangedDocumentTracker.html">ChangedDocumentTracker</a></li>
              <li><a href="../../modules/document/Document.html">Document</a></li>
              <li><a href="../../modules/document/DocumentCommandHandlers.html">DocumentCommandHandlers</a></li>
              <li><a href="../../modules/document/DocumentManager.html">DocumentManager</a></li>
              <li><a href="../../modules/document/InMemoryFile.html">InMemoryFile</a></li>
              <li><a href="../../modules/document/TextRange.html">TextRange</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_editor"><i class="icon-folder-open"></i>editor</a>
              </li>
            </ul>
            <ul id="package_editor" class="nav nav-list">
              <li><a href="../../modules/editor/CodeHintList.html">CodeHintList</a></li>
              <li><a href="../../modules/editor/CodeHintManager.html">CodeHintManager</a></li>
              <li><a href="../../modules/editor/CSSInlineEditor.html">CSSInlineEditor</a></li>
              <li><a href="../../modules/editor/Editor.html">Editor</a></li>
              <li><a href="../../modules/editor/EditorCommandHandlers.html">EditorCommandHandlers</a></li>
              <li><a href="../../modules/editor/EditorManager.html">EditorManager</a></li>
              <li><a href="../../modules/editor/EditorOptionHandlers.html">EditorOptionHandlers</a></li>
              <li><a href="../../modules/editor/EditorStatusBar.html">EditorStatusBar</a></li>
              <li><a href="../../modules/editor/ImageViewer.html">ImageViewer</a></li>
              <li><a href="../../modules/editor/InlineTextEditor.html">InlineTextEditor</a></li>
              <li><a href="../../modules/editor/InlineWidget.html">InlineWidget</a></li>
              <li><a href="../../modules/editor/MultiRangeInlineEditor.html">MultiRangeInlineEditor</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_extensibility"><i class="icon-folder-open"></i>extensibility</a>
              </li>
            </ul>
            <ul id="package_extensibility" class="nav nav-list">
              <li><a href="../../modules/extensibility/ExtensionManager.html">ExtensionManager</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerDialog.html">ExtensionManagerDialog</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerView.html">ExtensionManagerView</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerViewModel.html">ExtensionManagerViewModel</a></li>
              <li><a href="../../modules/extensibility/InstallExtensionDialog.html">InstallExtensionDialog</a></li>
              <li><a href="../../modules/extensibility/Package.html">Package</a></li>
              <li><a href="../../modules/extensibility/registry_utils.html">registry_utils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_file"><i class="icon-folder-open"></i>file</a>
              </li>
            </ul>
            <ul id="package_file" class="nav nav-list">
              <li><a href="../../modules/file/FileUtils.html">FileUtils</a></li>
              <li><a href="../../modules/file/NativeFileError.html">NativeFileError</a></li>
              <li><a href="../../modules/file/NativeFileSystem.html">NativeFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem"><i class="icon-folder-open"></i>filesystem</a>
              </li>
            </ul>
            <ul id="package_filesystem" class="nav nav-list">
              <li><a href="../../modules/filesystem/Directory.html">Directory</a></li>
              <li><a href="../../modules/filesystem/File.html">File</a></li>
              <li><a href="../../modules/filesystem/FileIndex.html">FileIndex</a></li>
              <li><a href="../../modules/filesystem/FileSystem.html">FileSystem</a></li>
              <li><a href="../../modules/filesystem/FileSystemEntry.html">FileSystemEntry</a></li>
              <li><a href="../../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
              <li><a href="../../modules/filesystem/FileSystemStats.html">FileSystemStats</a></li>
              <li><a href="../../modules/filesystem/WatchedRoot.html">WatchedRoot</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/AppshellFileSystem.html">AppshellFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell_node"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell_node" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/node/FileWatcherDomain.html">FileWatcherDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_help"><i class="icon-folder-open"></i>help</a>
              </li>
            </ul>
            <ul id="package_help" class="nav nav-list">
              <li><a href="../../modules/help/HelpCommandHandlers.html">HelpCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_language"><i class="icon-folder-open"></i>language</a>
              </li>
            </ul>
            <ul id="package_language" class="nav nav-list">
              <li><a href="../../modules/language/CodeInspection.html">CodeInspection</a></li>
              <li><a href="../../modules/language/CSSUtils.html">CSSUtils</a></li>
              <li><a href="../../modules/language/HTMLDOMDiff.html">HTMLDOMDiff</a></li>
              <li><a href="../../modules/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../modules/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
              <li><a href="../../modules/language/HTMLTokenizer.html">HTMLTokenizer</a></li>
              <li><a href="../../modules/language/HTMLUtils.html">HTMLUtils</a></li>
              <li><a href="../../modules/language/JSUtils.html">JSUtils</a></li>
              <li><a href="../../modules/language/LanguageManager.html">LanguageManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Agents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Agents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Agents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Agents/ConsoleAgent.html">ConsoleAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/CSSAgent.html">CSSAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMAgent.html">DOMAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMHelpers.html">DOMHelpers</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMNode.html">DOMNode</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/EditAgent.html">EditAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/GotoAgent.html">GotoAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/HighlightAgent.html">HighlightAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/NetworkAgent.html">NetworkAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteAgent.html">RemoteAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteFunctions.html">RemoteFunctions</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/ScriptAgent.html">ScriptAgent</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Documents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Documents/CSSDocument.html">CSSDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/HTMLDocument.html">HTMLDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/JSDocument.html">JSDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Inspector"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Inspector</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Inspector" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Inspector/Inspector.html">Inspector</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment"><i class="icon-folder-open"></i>LiveDevelopment</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/LiveDevelopment.html">LiveDevelopment</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevServerManager.html">LiveDevServerManager</a></li>
              <li><a href="../../modules/LiveDevelopment/main.html">main</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Servers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Servers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Servers" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Servers/BaseServer.html">BaseServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/FileServer.html">FileServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/UserServer.html">UserServer</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_preferences"><i class="icon-folder-open"></i>preferences</a>
              </li>
            </ul>
            <ul id="package_preferences" class="nav nav-list">
              <li><a href="../../modules/preferences/PreferencesBase.html">PreferencesBase</a></li>
              <li><a href="../../modules/preferences/PreferencesDialogs.html">PreferencesDialogs</a></li>
              <li><a href="../../modules/preferences/PreferencesImpl.html">PreferencesImpl</a></li>
              <li><a href="../../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
              <li><a href="../../modules/preferences/PreferenceStorage.html">PreferenceStorage</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_project"><i class="icon-folder-open"></i>project</a>
              </li>
            </ul>
            <ul id="package_project" class="nav nav-list">
              <li><a href="../../modules/project/FileIndexManager.html">FileIndexManager</a></li>
              <li><a href="../../modules/project/FileSyncManager.html">FileSyncManager</a></li>
              <li><a href="../../modules/project/FileViewController.html">FileViewController</a></li>
              <li><a href="../../modules/project/ProjectManager.html">ProjectManager</a></li>
              <li><a href="../../modules/project/SidebarView.html">SidebarView</a></li>
              <li><a href="../../modules/project/WorkingSetSort.html">WorkingSetSort</a></li>
              <li><a href="../../modules/project/WorkingSetView.html">WorkingSetView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search"><i class="icon-folder-open"></i>search</a>
              </li>
            </ul>
            <ul id="package_search" class="nav nav-list">
              <li><a href="../../modules/search/FileFilters.html">FileFilters</a></li>
              <li><a href="../../modules/search/FindBar.html">FindBar</a></li>
              <li><a href="../../modules/search/FindInFiles.html">FindInFiles</a></li>
              <li><a href="../../modules/search/FindInFilesUI.html">FindInFilesUI</a></li>
              <li><a href="../../modules/search/FindReplace.html">FindReplace</a></li>
              <li><a href="../../modules/search/FindUtils.html">FindUtils</a></li>
              <li><a href="../../modules/search/QuickOpen.html">QuickOpen</a></li>
              <li><a href="../../modules/search/ScrollTrackMarkers.html">ScrollTrackMarkers</a></li>
              <li><a href="../../modules/search/SearchModel.html">SearchModel</a></li>
              <li><a href="../../modules/search/SearchResultsView.html">SearchResultsView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_utils"><i class="icon-folder-open"></i>utils</a>
              </li>
            </ul>
            <ul id="package_utils" class="nav nav-list">
              <li><a href="../../modules/utils/AnimationUtils.html">AnimationUtils</a></li>
              <li><a href="../../modules/utils/AppInit.html">AppInit</a></li>
              <li><a href="../../modules/utils/Async.html">Async</a></li>
              <li><a href="../../modules/utils/BuildInfoUtils.html">BuildInfoUtils</a></li>
              <li><a href="../../modules/utils/CollectionUtils.html">CollectionUtils</a></li>
              <li><a href="../../modules/utils/ColorUtils.html">ColorUtils</a></li>
              <li><a href="../../modules/utils/DeprecationWarning.html">DeprecationWarning</a></li>
              <li><a href="../../modules/utils/DragAndDrop.html">DragAndDrop</a></li>
              <li><a href="../../modules/utils/DropdownEventHandler.html">DropdownEventHandler</a></li>
              <li><a href="../../modules/utils/ExtensionLoader.html">ExtensionLoader</a></li>
              <li><a href="../../modules/utils/ExtensionUtils.html">ExtensionUtils</a></li>
              <li><a href="../../modules/utils/Global.html">Global</a></li>
              <li><a href="../../modules/utils/KeyEvent.html">KeyEvent</a></li>
              <li><a href="../../modules/utils/NativeApp.html">NativeApp</a></li>
              <li><a href="../../modules/utils/NodeConnection.html">NodeConnection</a></li>
              <li><a href="../../modules/utils/NodeDomain.html">NodeDomain</a></li>
              <li><a href="../../modules/utils/PerfUtils.html">PerfUtils</a></li>
              <li><a href="../../modules/utils/Resizer.html">Resizer</a></li>
              <li><a href="../../modules/utils/ShellAPI.html">ShellAPI</a></li>
              <li><a href="../../modules/utils/StringMatch.html">StringMatch</a></li>
              <li><a href="../../modules/utils/StringUtils.html">StringUtils</a></li>
              <li><a href="../../modules/utils/TokenUtils.html">TokenUtils</a></li>
              <li><a href="../../modules/utils/UpdateNotification.html">UpdateNotification</a></li>
              <li><a href="../../modules/utils/UrlParams.html">UrlParams</a></li>
              <li><a href="../../modules/utils/ValidationUtils.html">ValidationUtils</a></li>
              <li><a href="../../modules/utils/ViewUtils.html">ViewUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_view"><i class="icon-folder-open"></i>view</a>
              </li>
            </ul>
            <ul id="package_view" class="nav nav-list">
              <li><a href="../../modules/view/PanelManager.html">PanelManager</a></li>
              <li><a href="../../modules/view/ViewCommandHandlers.html">ViewCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_widgets"><i class="icon-folder-open"></i>widgets</a>
              </li>
            </ul>
            <ul id="package_widgets" class="nav nav-list">
              <li><a href="../../modules/widgets/bootstrap-alerts.html">bootstrap-alerts</a></li>
              <li><a href="../../modules/widgets/bootstrap-button.html">bootstrap-button</a></li>
              <li><a href="../../modules/widgets/bootstrap-dropdown.html">bootstrap-dropdown</a></li>
              <li><a href="../../modules/widgets/bootstrap-modal.html">bootstrap-modal</a></li>
              <li><a href="../../modules/widgets/bootstrap-popover.html">bootstrap-popover</a></li>
              <li><a href="../../modules/widgets/bootstrap-scrollspy.html">bootstrap-scrollspy</a></li>
              <li><a href="../../modules/widgets/bootstrap-tab.html">bootstrap-tab</a></li>
              <li><a href="../../modules/widgets/bootstrap-tooltip.html">bootstrap-tooltip</a></li>
              <li><a href="../../modules/widgets/bootstrap-twipsy-mod.html">bootstrap-twipsy-mod</a></li>
              <li><a href="../../modules/widgets/DefaultDialogs.html">DefaultDialogs</a></li>
              <li><a href="../../modules/widgets/Dialogs.html">Dialogs</a></li>
              <li><a href="../../modules/widgets/DropdownButton.html">DropdownButton</a></li>
              <li><a href="../../modules/widgets/ModalBar.html">ModalBar</a></li>
              <li><a href="../../modules/widgets/PopUpManager.html">PopUpManager</a></li>
              <li><a href="../../modules/widgets/StatusBar.html">StatusBar</a></li>
            </ul>
          </div>
        </div>
        <div class="module span9">
<h1>DocumentCommandHandlers</h1>


<section class="description">
    <h3>Description</h3>
    
    <div></div>
</section>

<section id="dependencies">
    <h3>Dependencies</h3>

    <ul class="nav nav-list">
        <li><a href="..&#x2F;../modules/utils/AppInit.html">AppInit</a></li>
        <li><a href="..&#x2F;../modules/utils/Async.html">Async</a></li>
        <li><a href="..&#x2F;../modules/command/CommandManager.html">CommandManager</a></li>
        <li><a href="..&#x2F;../modules/command/Commands.html">Commands</a></li>
        <li><a href="..&#x2F;../modules/widgets/DefaultDialogs.html">DefaultDialogs</a></li>
        <li><a href="..&#x2F;../modules/widgets/Dialogs.html">Dialogs</a></li>
        <li><a href="..&#x2F;../modules/document/DocumentManager.html">DocumentManager</a></li>
        <li><a href="..&#x2F;../modules/utils/DragAndDrop.html">DragAndDrop</a></li>
        <li><a href="..&#x2F;../modules/editor/EditorManager.html">EditorManager</a></li>
        <li><a href="..&#x2F;../modules/filesystem/FileSystem.html">FileSystem</a></li>
        <li><a href="..&#x2F;../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
        <li><a href="..&#x2F;../modules/file/FileUtils.html">FileUtils</a></li>
        <li><a href="..&#x2F;../modules/project/FileViewController.html">FileViewController</a></li>
        <li><a href="..&#x2F;../modules/document/InMemoryFile.html">InMemoryFile</a></li>
        <li><a href="..&#x2F;../modules/LiveDevelopment/Inspector/Inspector.html">Inspector</a></li>
        <li><a href="..&#x2F;../modules/utils/KeyEvent.html">KeyEvent</a></li>
        <li><a href="..&#x2F;../modules/language/LanguageManager.html">LanguageManager</a></li>
        <li><a href="..&#x2F;../modules/thirdparty/lodash.html">lodash</a></li>
        <li><a href="..&#x2F;../modules/command/Menus.html">Menus</a></li>
        <li><a href="..&#x2F;../modules/utils/PerfUtils.html">PerfUtils</a></li>
        <li><a href="..&#x2F;../modules/widgets/PopUpManager.html">PopUpManager</a></li>
        <li><a href="..&#x2F;../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
        <li><a href="..&#x2F;../modules/project/ProjectManager.html">ProjectManager</a></li>
        <li><a href="..&#x2F;../modules/widgets/StatusBar.html">StatusBar</a></li>
        <li><a href="..&#x2F;../modules/strings.html">strings</a></li>
        <li><a href="..&#x2F;../modules/utils/StringUtils.html">StringUtils</a></li>
        <li><a href="..&#x2F;../modules/utils/UrlParams.html">UrlParams</a></li>
    </ul>

</section>
<section id="variables">
    
    <h3>Variables 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>USER_CANCELED</h4>

    
<dl>
</dl>
    <div class="description"><p>Unique token used to indicate user-driven cancellation of Save As (as opposed to file IO error)</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var USER_CANCELED = { userCanceled: true };

    PreferencesManager.definePreference(&quot;defaultExtension&quot;, &quot;string&quot;, &quot;&quot;);</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>WINDOW_TITLE_STRING</h4>

    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
</dl>
    <div class="description"><p>String template for window title. Use emdash on mac only.</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var WINDOW_TITLE_STRING = (brackets.platform !== &quot;mac&quot;) ? &quot;{0} - {1}&quot; : &quot;{0} \u2014 {1}&quot;;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_$dirtydot</h4>

    
<dl>
    <dt>Type</dt>
    <dd>jQueryObject</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Container for dirty dot; must be an inline element</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _$dirtydot = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_$title</h4>

    
<dl>
    <dt>Type</dt>
    <dd>jQueryObject</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Container for label shown above editor; must be an inline element</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _$title = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_$titleContainerToolbar</h4>

    
<dl>
    <dt>Type</dt>
    <dd>jQueryObject</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Container for _$titleWrapper; if changing title changes this element&#39;s height, must kick editor to resize</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _$titleContainerToolbar = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_$titleWrapper</h4>

    
<dl>
    <dt>Type</dt>
    <dd>jQueryObject</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Container for _$title; need not be an inline element</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _$titleWrapper = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_addedNavKeyHandler</h4>

    
<dl>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Are we already listening for a keyup to call detectDocumentNavEnd()?</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _addedNavKeyHandler = false;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_currentTitlePath</h4>

    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Label shown above editor for current document: filename and potentially some of its path</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _currentTitlePath = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_defaultOpenDialogFullPath</h4>

    
<dl>
    <dt>Private</dt>
</dl>
    <div class="description"></div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _defaultOpenDialogFullPath = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_isReloading</h4>

    
<dl>
    <dt>Type</dt>
    <dd>boolean</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>prevents reentrancy of browserReload()</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _isReloading = false;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_lastToolbarHeight</h4>

    
<dl>
    <dt>Type</dt>
    <dd>number</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>Last known height of _$titleContainerToolbar</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _lastToolbarHeight = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_nextUntitledIndexToUse</h4>

    
<dl>
    <dt>Type</dt>
    <dd>number</dd>
    <dt>Private</dt>
</dl>
    <div class="description"><p>index to use for next, new Untitled document</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _nextUntitledIndexToUse = 1;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_windowGoingAway</h4>

    
<dl>
    <dt>Private</dt>
</dl>
    <div class="description"></div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _windowGoingAway = false;</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>fileNewInProgress</h4>

    
<dl>
</dl>
    <div class="description"><p>Prevents re-entrancy into handleFileNewInProject()</p>
<p>handleFileNewInProject() first prompts the user to name a file and then asynchronously writes the file when the
filename field loses focus. This boolean prevent additional calls to handleFileNewInProject() when an existing
file creation call is outstanding</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var fileNewInProgress = false;</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleFileSaveAs</h4>

    
<dl>
    <dt>Type</dt>
    <dd>function</dd>
</dl>
    <div class="description"><p>JSLint workaround for circular dependency</p>
</div>

<button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var handleFileSaveAs;

    function updateTitle() {
        var currentDoc = DocumentManager.getCurrentDocument(),
            currentlyViewedPath = EditorManager.getCurrentlyViewedPath(),
            windowTitle = brackets.config.app_title;

        if (!brackets.nativeMenus) {
            if (currentlyViewedPath) {
                _$title.text(_currentTitlePath);
                _$title.attr(&quot;title&quot;, currentlyViewedPath);
                if (currentDoc) {
                    &#x2F;&#x2F; dirty dot is always in DOM so layout doesn&#39;t change, and visibility is toggled
                    _$dirtydot.css(&quot;visibility&quot;, (currentDoc.isDirty) ? &quot;visible&quot; : &quot;hidden&quot;);
                } else {
                    &#x2F;&#x2F; hide dirty dot if there is no document
                    _$dirtydot.css(&quot;visibility&quot;, &quot;hidden&quot;);
                }
            } else {
                _$title.text(&quot;&quot;);
                _$title.attr(&quot;title&quot;, &quot;&quot;);
                _$dirtydot.css(&quot;visibility&quot;, &quot;hidden&quot;);
            }
        
            &#x2F;&#x2F; Set _$titleWrapper to a fixed width just large enough to accomodate _$title. This seems equivalent to what
            &#x2F;&#x2F; the browser would do automatically, but the CSS trick we use for layout requires _$titleWrapper to have a
            &#x2F;&#x2F; fixed width set on it (see the &quot;#titlebar&quot; CSS rule for details).
            _$titleWrapper.css(&quot;width&quot;, &quot;&quot;);
            var newWidth = _$title.width();
            _$titleWrapper.css(&quot;width&quot;, newWidth);
            
            &#x2F;&#x2F; Changing the width of the title may cause the toolbar layout to change height, which needs to resize the
            &#x2F;&#x2F; editor beneath it (toolbar changing height due to window resize is already caught by EditorManager).
            var newToolbarHeight = _$titleContainerToolbar.height();
            if (_lastToolbarHeight !== newToolbarHeight) {
                _lastToolbarHeight = newToolbarHeight;
                EditorManager.resizeEditor();
            }
        }

        &#x2F;&#x2F; build shell&#x2F;browser window title, e.g. &quot;• file.html — Brackets&quot;
        if (currentlyViewedPath) {
            windowTitle = StringUtils.format(WINDOW_TITLE_STRING, _currentTitlePath, windowTitle);
        }
        
        if (currentDoc) {
            windowTitle = (currentDoc.isDirty) ? &quot;• &quot; + windowTitle : windowTitle;
        } else {
            &#x2F;&#x2F; hide dirty dot if there is no document
            _$dirtydot.css(&quot;visibility&quot;, &quot;hidden&quot;);
        }

        &#x2F;&#x2F; update shell&#x2F;browser window title
        window.document.title = windowTitle;
    }</code></pre></div>
</section>

<section id="functions">

    <h3>Functions 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_closeList</h4>

    
    <div class="description"></div>
    
<dl>
    <dt>list</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Array.&lt;FileEntry&gt;</dd>
    <dd></dd>
    <dt>promptOnly</dt>
    <dd class="label label-info pull-left">boolean</dd>
    <dd></dd>
    <dt>clearCurrentDoc</dt>
    <dd class="label label-info pull-left">boolean</dd>
    <dd></dd>
    <dt>_forceClose</dt>
    <dd class="label label-info pull-left">boolean</dd>
    <dd>Whether to force all the documents to close even if they have unsaved changes. For unit testing only.</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _closeList(list, promptOnly, clearCurrentDoc, _forceClose) {
        var result      = new $.Deferred(),
            unsavedDocs = [];
        
        list.forEach(function (file) {
            var doc = DocumentManager.getOpenDocumentForPath(file.fullPath);
            if (doc &amp;&amp; doc.isDirty) {
                unsavedDocs.push(doc);
            }
        });
        
        if (unsavedDocs.length === 0 || _forceClose) {
            &#x2F;&#x2F; No unsaved changes or we want to ignore them, so we can proceed without a prompt
            result.resolve();
            
        } else if (unsavedDocs.length === 1) {
            &#x2F;&#x2F; Only one unsaved file: show the usual single-file-close confirmation UI
            var fileCloseArgs = { file: unsavedDocs[0].file, promptOnly: promptOnly };

            handleFileClose(fileCloseArgs).done(function () {
                &#x2F;&#x2F; still need to close any other, non-unsaved documents
                result.resolve();
            }).fail(function () {
                result.reject();
            });
            
        } else {
            &#x2F;&#x2F; Multiple unsaved files: show a single bulk prompt listing all files
            var message = Strings.SAVE_CLOSE_MULTI_MESSAGE + FileUtils.makeDialogFileList(_.map(unsavedDocs, _shortTitleForDocument));
            
            Dialogs.showModalDialog(
                DefaultDialogs.DIALOG_ID_SAVE_CLOSE,
                Strings.SAVE_CLOSE_TITLE,
                message,
                [
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_LEFT,
                        id        : Dialogs.DIALOG_BTN_DONTSAVE,
                        text      : Strings.DONT_SAVE
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_NORMAL,
                        id        : Dialogs.DIALOG_BTN_CANCEL,
                        text      : Strings.CANCEL
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_PRIMARY,
                        id        : Dialogs.DIALOG_BTN_OK,
                        text      : Strings.SAVE
                    }
                ]
            )
                .done(function (id) {
                    if (id === Dialogs.DIALOG_BTN_CANCEL) {
                        result.reject();
                    } else if (id === Dialogs.DIALOG_BTN_OK) {
                        &#x2F;&#x2F; Save all unsaved files, then if that succeeds, close all
                        _saveFileList(list).done(function (listAfterSave) {
                            &#x2F;&#x2F; List of files after save may be different, if any were Untitled
                            result.resolve(listAfterSave);
                        }).fail(function () {
                            result.reject();
                        });
                    } else {
                        &#x2F;&#x2F; &quot;Don&#39;t Save&quot; case--we can just go ahead and close all files.
                        result.resolve();
                    }
                });
        }
        
        &#x2F;&#x2F; If all the unsaved-changes confirmations pan out above, then go ahead &amp; close all editors
        &#x2F;&#x2F; NOTE: this still happens before any done() handlers added by our caller, because jQ
        &#x2F;&#x2F; guarantees that handlers run in the order they are added.
        result.done(function (listAfterSave) {
            listAfterSave = listAfterSave || list;
            if (!promptOnly) {
                DocumentManager.removeListFromWorkingSet(listAfterSave, clearCurrentDoc);
            }
        });
        
        return result.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_disableCache</h4>

    
    <div class="description"><p>Disables Brackets&#39; cache via the remote debugging protocol.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>A jQuery promise that will be resolved when the cache is disabled and be rejected in any other case</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _disableCache() {
        var result = new $.Deferred();
        
        if (brackets.inBrowser) {
            result.resolve();
        } else {
            var port = brackets.app.getRemoteDebuggingPort ? brackets.app.getRemoteDebuggingPort() : 9234;
            Inspector.getDebuggableWindows(&quot;127.0.0.1&quot;, port)
                .fail(result.reject)
                .done(function (response) {
                    var page = response[0];
                    if (!page || !page.webSocketDebuggerUrl) {
                        result.reject();
                        return;
                    }
                    var _socket = new WebSocket(page.webSocketDebuggerUrl);
                    &#x2F;&#x2F; Disable the cache
                    _socket.onopen = function _onConnect() {
                        _socket.send(JSON.stringify({ id: 1, method: &quot;Network.setCacheDisabled&quot;, params: { &quot;cacheDisabled&quot;: true } }));
                    };
                    &#x2F;&#x2F; The first message will be the confirmation =&gt; disconnected to allow remote debugging of Brackets
                    _socket.onmessage = function _onMessage(e) {
                        _socket.close();
                        result.resolve();
                    };
                    &#x2F;&#x2F; In case of an error
                    _socket.onerror = result.reject;
                });
        }
         
        return result.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_doOpenWithOptionalPath</h4>

    
    <div class="description"></div>
    
<dl>
    <dt>fullPath</dt>
    <span class="label label-nullable pull-left">nullable</span>
    <dd class="label label-info pull-left">string</dd>
    <dd>- The path of the file to open; if it's null we'll prompt for it</dd>
    <dt>silent</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">boolean</dd>
    <dd>- If true, don't show error message</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>a jQuery promise that will be resolved with a new document for the specified file path or be resolved without document, i.e. when an image is displayed, or rejected if the file can not be read.</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _doOpenWithOptionalPath(fullPath, silent) {
        var result;
        if (!fullPath) {
            &#x2F;&#x2F; Create placeholder deferred
            result = new $.Deferred();
            
            &#x2F;&#x2F;first time through, default to the current project path
            if (!_defaultOpenDialogFullPath) {
                _defaultOpenDialogFullPath = ProjectManager.getProjectRoot().fullPath;
            }
            &#x2F;&#x2F; Prompt the user with a dialog
            FileSystem.showOpenDialog(true, false, Strings.OPEN_FILE, _defaultOpenDialogFullPath, null, function (err, paths) {
                if (!err) {
                    if (paths.length &gt; 0) {
                        &#x2F;&#x2F; Add all files to the working set without verifying that
                        &#x2F;&#x2F; they still exist on disk (for faster opening)
                        var filesToOpen = [],
                            filteredPaths = DragAndDrop.filterFilesToOpen(paths);
                        
                        filteredPaths.forEach(function (file) {
                            filesToOpen.push(FileSystem.getFileForPath(file));
                        });
                        DocumentManager.addListToWorkingSet(filesToOpen);
                        
                        doOpen(filteredPaths[filteredPaths.length - 1], silent)
                            .done(function (doc) {
                                &#x2F;&#x2F;  doc may be null, i.e. if an image has been opened.
                                &#x2F;&#x2F; Then we do not add the opened file to the working set.
                                if (doc) {
                                    DocumentManager.addToWorkingSet(doc.file);
                                }
                                _defaultOpenDialogFullPath = FileUtils.getDirectoryPath(EditorManager.getCurrentlyViewedPath());
                            })
                            &#x2F;&#x2F; Send the resulting document that was opened
                            .then(result.resolve, result.reject);
                    } else {
                        &#x2F;&#x2F; Reject if the user canceled the dialog
                        result.reject();
                    }
                }
            });
        } else {
            result = doOpen(fullPath, silent);
        }
        
        return result.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_doSaveAs</h4>

    
    <div class="description"><p>Opens the native OS save as dialog and saves document.
The original document is reverted in case it was dirty.
Text selection and cursor position from the original document
are preserved in the new document.
When saving to the original document the document is saved as if save was called.</p>
</div>
    
<dl>
    <dt>doc</dt>
    <dd class="label label-info pull-left">Document</dd>
    <dd></dd>
    <dt>settings</dt>
    <span class="label label-nullable pull-left">nullable</span>
    <dd class="label label-info pull-left">{cursorPos:!Object, selection:!Object, scrollPos:!Object}</dd>
    <dd>- properties of the original document's editor that need to be carried over to the new document i.e. scrollPos, cursorPos and text selection</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>a promise that is resolved with the saved document's File. Rejected in case of IO error (after error dialog dismissed), or if the Save dialog was canceled.</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _doSaveAs(doc, settings) {
        var origPath,
            saveAsDefaultPath,
            defaultName,
            result = new $.Deferred();
        
        function _doSaveAfterSaveDialog(path) {
            var newFile;
            
            &#x2F;&#x2F; Reconstruct old doc&#39;s editor&#39;s view state, &amp; finally resolve overall promise
            function _configureEditorAndResolve() {
                var editor = EditorManager.getActiveEditor();
                if (editor) {
                    if (settings) {
                        editor.setSelections(settings.selections);
                        editor.setScrollPos(settings.scrollPos.x, settings.scrollPos.y);
                    }
                }
                result.resolve(newFile);
            }
            
            &#x2F;&#x2F; Replace old document with new one in open editor &amp; working set
            function openNewFile() {
                var fileOpenPromise;

                if (FileViewController.getFileSelectionFocus() === FileViewController.PROJECT_MANAGER) {
                    &#x2F;&#x2F; If selection is in the tree, leave working set unchanged - even if orig file is in the list
                    fileOpenPromise = FileViewController
                        .openAndSelectDocument(path, FileViewController.PROJECT_MANAGER);
                } else {
                    &#x2F;&#x2F; If selection is in working set, replace orig item in place with the new file
                    var index = DocumentManager.findInWorkingSet(doc.file.fullPath);
                    &#x2F;&#x2F; Remove old file from working set; no redraw yet since there&#39;s a pause before the new file is opened
                    DocumentManager.removeFromWorkingSet(doc.file, true);
                    &#x2F;&#x2F; Add new file to working set, and ensure we now redraw (even if index hasn&#39;t changed)
                    fileOpenPromise = handleFileAddToWorkingSet({fullPath: path, index: index, forceRedraw: true});
                }

                &#x2F;&#x2F; always configure editor after file is opened
                fileOpenPromise.always(function () {
                    _configureEditorAndResolve();
                });
            }
            
            &#x2F;&#x2F; Same name as before - just do a regular Save
            if (path === origPath) {
                doSave(doc).then(result.resolve, result.reject);
                return;
            }
            
            doc.isSaving = true;    &#x2F;&#x2F; mark that we&#39;re saving the document
            
            &#x2F;&#x2F; First, write document&#39;s current text to new file
            newFile = FileSystem.getFileForPath(path);
            
            &#x2F;&#x2F; Save as warns you when you&#39;re about to overwrite a file, so we
            &#x2F;&#x2F; explictly allow &quot;blind&quot; writes to the filesystem in this case,
            &#x2F;&#x2F; ignoring warnings about the contents being modified outside of
            &#x2F;&#x2F; the editor.
            FileUtils.writeText(newFile, doc.getText(), true)
                .done(function () {
                    &#x2F;&#x2F; If there were unsaved changes before Save As, they don&#39;t stay with the old
                    &#x2F;&#x2F; file anymore - so must revert the old doc to match disk content.
                    &#x2F;&#x2F; Only do this if the doc was dirty: doRevert on a file that is not dirty and
                    &#x2F;&#x2F; not in the working set has the side effect of adding it to the working set.
                    if (doc.isDirty &amp;&amp; !(doc.isUntitled())) {
                        &#x2F;&#x2F; if the file is dirty it must be in the working set
                        &#x2F;&#x2F; doRevert is side effect free in this case
                        doRevert(doc).always(openNewFile);
                    } else {
                        openNewFile();
                    }
                })
                .fail(function (error) {
                    _showSaveFileError(error, path)
                        .done(function () {
                            result.reject(error);
                        });
                })
                .always(function () {
                    &#x2F;&#x2F; mark that we&#39;re done saving the document
                    doc.isSaving = false;
                });
        }
        
        if (doc) {
            origPath = doc.file.fullPath;
            &#x2F;&#x2F; If the document is an untitled document, we should default to project root.
            if (doc.isUntitled()) {
                &#x2F;&#x2F; (Issue #4489) if we&#39;re saving an untitled document, go ahead and switch to this document
                &#x2F;&#x2F;   in the editor, so that if we&#39;re, for example, saving several files (ie. Save All),
                &#x2F;&#x2F;   then the user can visually tell which document we&#39;re currently prompting them to save.
                DocumentManager.setCurrentDocument(doc);

                &#x2F;&#x2F; If the document is untitled, default to project root.
                saveAsDefaultPath = ProjectManager.getProjectRoot().fullPath;
            } else {
                saveAsDefaultPath = FileUtils.getDirectoryPath(origPath);
            }
            defaultName = FileUtils.getBaseName(origPath);
            FileSystem.showSaveDialog(Strings.SAVE_FILE_AS, saveAsDefaultPath, defaultName, function (err, selectedPath) {
                if (!err) {
                    if (selectedPath) {
                        _doSaveAfterSaveDialog(selectedPath);
                    } else {
                        result.reject(USER_CANCELED);
                    }
                } else {
                    result.reject(err);
                }
            });
        } else {
            result.reject();
        }
        return result.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_getUntitledFileSuggestion</h4>

    
    <div class="description"></div>
    
<dl>
    <dt>dir</dt>
    <dd class="label label-info pull-left">Directory</dd>
    <dd>The directory to use</dd>
    <dt>baseFileName</dt>
    <dd class="label label-info pull-left">string</dd>
    <dd>The base to start with, "-n" will get appened to make unique</dd>
    <dt>isFolder</dt>
    <dd class="label label-info pull-left">boolean</dd>
    <dd>True if the suggestion is for a folder name</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>a jQuery promise that will be resolved with a unique name starting with the given base name</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _getUntitledFileSuggestion(dir, baseFileName, isFolder) {
        var suggestedName   = baseFileName + &quot;-&quot; + _nextUntitledIndexToUse++,
            deferred        = $.Deferred();
        
        if (_nextUntitledIndexToUse &gt; 9999) {
            &#x2F;&#x2F;we&#39;ve tried this enough
            deferred.reject();
        } else {
            var path = dir.fullPath + suggestedName,
                entry = isFolder ? FileSystem.getDirectoryForPath(path)
                                 : FileSystem.getFileForPath(path);
            
            entry.exists(function (err, exists) {
                if (err || exists) {
                    _getUntitledFileSuggestion(dir, baseFileName, isFolder)
                        .then(deferred.resolve, deferred.reject);
                } else {
                    deferred.resolve(suggestedName);
                }
            });
        }

        return deferred.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_handleNewItemInProject</h4>

    
    <div class="description"><p>Bottleneck function for creating new files and folders in the project tree.</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _handleNewItemInProject(isFolder) {
        if (fileNewInProgress) {
            ProjectManager.forceFinishRename();
            return;
        }
        fileNewInProgress = true;

        &#x2F;&#x2F; Determine the directory to put the new file
        &#x2F;&#x2F; If a file is currently selected in the tree, put it next to it.
        &#x2F;&#x2F; If a directory is currently selected in the tree, put it in it.
        &#x2F;&#x2F; If an Untitled document is selected or nothing is selected in the tree, put it at the root of the project.
        &#x2F;&#x2F; (Note: &#39;selected&#39; may be an item that&#39;s selected in the working set and not the tree; but in that case
        &#x2F;&#x2F; ProjectManager.createNewItem() ignores the baseDir we give it and falls back to the project root on its own)
        var baseDirEntry,
            selected = ProjectManager.getSelectedItem();
        if ((!selected) || (selected instanceof InMemoryFile)) {
            selected = ProjectManager.getProjectRoot();
        }
        
        if (selected.isFile) {
            baseDirEntry = FileSystem.getDirectoryForPath(selected.parentPath);
        }
        
        baseDirEntry = baseDirEntry || selected;
        
        &#x2F;&#x2F; Create the new node. The createNewItem function does all the heavy work
        &#x2F;&#x2F; of validating file name, creating the new file and selecting.
        function createWithSuggestedName(suggestedName) {
            return ProjectManager.createNewItem(baseDirEntry, suggestedName, false, isFolder)
                .always(function () { fileNewInProgress = false; });
        }
        
        return _getUntitledFileSuggestion(baseDirEntry, Strings.UNTITLED, isFolder)
            .then(createWithSuggestedName, createWithSuggestedName.bind(undefined, Strings.UNTITLED));
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_handleWindowGoingAway</h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _handleWindowGoingAway(commandData, postCloseHandler, failHandler) {
        if (_windowGoingAway) {
            &#x2F;&#x2F;if we get called back while we&#39;re closing, then just return
            return (new $.Deferred()).reject().promise();
        }

        return CommandManager.execute(Commands.FILE_CLOSE_ALL, { promptOnly: true })
            .done(function () {
                _windowGoingAway = true;
                
                &#x2F;&#x2F; Give everyone a chance to save their state - but don&#39;t let any problems block
                &#x2F;&#x2F; us from quitting
                try {
                    $(ProjectManager).triggerHandler(&quot;beforeAppClose&quot;);
                } catch (ex) {
                    console.error(ex);
                }
                
                PreferencesManager.savePreferences();
                
                PreferencesManager.finalize().always(postCloseHandler);
            })
            .fail(function () {
                _windowGoingAway = false;
                if (failHandler) {
                    failHandler();
                }
            });
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>_parseDecoratedPath</h4>

    
    <div class="description"></div>
    
<dl>
    <dt>path</dt>
    <span class="label label-nullable pull-left">nullable</span>
    <dd class="label label-info pull-left">string</dd>
    <dd>- a string of the form "fullpath[:lineNumber[:columnNumber]]"</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">{path: string,line: ?number,column: ?number}</dd>
    <dd></dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _parseDecoratedPath(path) {
        var result = {path: path, line: null, column: null};
        if (path) {
            &#x2F;&#x2F; If the path has a trailing :lineNumber and :columnNumber, strip
            &#x2F;&#x2F; these off and assign to result.line and result.column.
            var matchResult = &#x2F;(.+?):([0-9]+)(:([0-9]+))?$&#x2F;.exec(path);
            if (matchResult) {
                result.path = matchResult[1];
                if (matchResult[2]) {
                    result.line = parseInt(matchResult[2], 10);
                }
                if (matchResult[4]) {
                    result.column = parseInt(matchResult[4], 10);
                }
            }
        }
        return result;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_saveFileList</h4>

    
    <div class="description"><p>Saves all unsaved documents corresponding to &#39;fileList&#39;. Returns a Promise that will be resolved
once ALL the save operations have been completed. If ANY save operation fails, an error dialog is
immediately shown but after dismissing we continue saving the other files; after all files have
been processed, the Promise is rejected if any ONE save operation failed (the error given is the
first one encountered). If the user cancels any Save As dialog (for untitled files), the
Promise is immediately rejected.</p>
</div>
    
<dl>
    <dt>fileList</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Array.&lt;File&gt;</dd>
    <dd></dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">!$.Promise</dd>
    <dd>Resolved with {!Array.<File>}, which may differ from 'fileList' if any of the files were Unsaved documents. Or rejected with {?FileSystemError}.</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _saveFileList(fileList) {
        &#x2F;&#x2F; Do in serial because doSave shows error UI for each file, and we don&#39;t want to stack
        &#x2F;&#x2F; multiple dialogs on top of each other
        var userCanceled = false,
            filesAfterSave = [];
            
        return Async.doSequentially(
            fileList,
            function (file) {
                &#x2F;&#x2F; Abort remaining saves if user canceled any Save As dialog
                if (userCanceled) {
                    return (new $.Deferred()).reject().promise();
                }
                
                var doc = DocumentManager.getOpenDocumentForPath(file.fullPath);
                if (doc) {
                    var savePromise = handleFileSave({doc: doc});
                    savePromise
                        .done(function (newFile) {
                            filesAfterSave.push(newFile);
                        })
                        .fail(function (error) {
                            if (error === USER_CANCELED) {
                                userCanceled = true;
                            }
                        });
                    return savePromise;
                } else {
                    &#x2F;&#x2F; working set entry that was never actually opened - ignore
                    filesAfterSave.push(file);
                    return (new $.Deferred()).resolve().promise();
                }
            },
            false  &#x2F;&#x2F; if any save fails, continue trying to save other files anyway; then reject at end
        ).then(function () {
            return filesAfterSave;
        });
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_shortTitleForDocument</h4>

    
    <div class="description"><p>Returns a short title for a given document.</p>
</div>
    
<dl>
    <dt>doc</dt>
    <dd class="label label-info pull-left">Document</dd>
    <dd></dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">string</dd>
    <dd>- a short title for doc.</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _shortTitleForDocument(doc) {
        var fullPath = doc.file.fullPath;
        
        &#x2F;&#x2F; If the document is untitled then return the filename, (&quot;Untitled-n.ext&quot;);
        &#x2F;&#x2F; otherwise show the project-relative path if the file is inside the
        &#x2F;&#x2F; current project or the full absolute path if it&#39;s not in the project.
        if (doc.isUntitled()) {
            return fullPath.substring(fullPath.lastIndexOf(&quot;&#x2F;&quot;) + 1);
        } else {
            return ProjectManager.makeProjectRelativeIfPossible(fullPath);
        }
    }

    function updateDocumentTitle() {
        var newDocument = DocumentManager.getCurrentDocument();

        &#x2F;&#x2F; TODO: This timer is causing a &quot;Recursive tests with the same name are not supported&quot;
        &#x2F;&#x2F; exception. This code should be removed (if not needed), or updated with a unique
        &#x2F;&#x2F; timer name (if needed).
        &#x2F;&#x2F; var perfTimerName = PerfUtils.markStart(&quot;DocumentCommandHandlers._onCurrentDocumentChange():\t&quot; + (!newDocument || newDocument.file.fullPath));
        
        if (newDocument) {
            _currentTitlePath = _shortTitleForDocument(newDocument);
        } else {
            var currentlyViewedFilePath = EditorManager.getCurrentlyViewedPath();
            if (currentlyViewedFilePath) {
                _currentTitlePath = ProjectManager.makeProjectRelativeIfPossible(currentlyViewedFilePath);
            } else {
                _currentTitlePath = null;
            }
        }
        
        &#x2F;&#x2F; Update title text &amp; &quot;dirty dot&quot; display
        updateTitle();

        &#x2F;&#x2F; PerfUtils.addMeasurement(perfTimerName);
    }

    function handleDirtyChange(event, changedDoc) {
        var currentDoc = DocumentManager.getCurrentDocument();
        
        if (currentDoc &amp;&amp; changedDoc.file.fullPath === currentDoc.file.fullPath) {
            updateTitle();
        }
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>_showSaveFileError</h4>

    
    <div class="description"></div>
    
<dl>
    <dt>name</dt>
    <dd class="label label-info pull-left">string</dd>
    <dd></dd>
    <dt>path</dt>
    <dd class="label label-info pull-left">string</dd>
    <dd></dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">Dialog</dd>
    <dd></dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _showSaveFileError(name, path) {
        return Dialogs.showModalDialog(
            DefaultDialogs.DIALOG_ID_ERROR,
            Strings.ERROR_SAVING_FILE_TITLE,
            StringUtils.format(
                Strings.ERROR_SAVING_FILE,
                StringUtils.breakableUrl(path),
                FileUtils.getFileErrorString(name)
            )
        );
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>browserReload</h4>

    
    <div class="description"><p>Does a full reload of the browser window</p>
</div>
    
<dl>
    <dt>href</dt>
    <dd class="label label-info pull-left">string</dd>
    <dd>The url to reload into the window</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function browserReload(href) {
        if (_isReloading) {
            return;
        }
        
        _isReloading = true;
        
        return CommandManager.execute(Commands.FILE_CLOSE_ALL, { promptOnly: true }).done(function () {
            &#x2F;&#x2F; Give everyone a chance to save their state - but don&#39;t let any problems block
            &#x2F;&#x2F; us from quitting
            try {
                $(ProjectManager).triggerHandler(&quot;beforeAppClose&quot;);
            } catch (ex) {
                console.error(ex);
            }
            
            &#x2F;&#x2F; Disable the cache to make reloads work
            _disableCache().always(function () {
                &#x2F;&#x2F; Remove all menus to assure every part of Brackets is reloaded
                _.forEach(Menus.getAllMenus(), function (value, key) {
                    Menus.removeMenu(key);
                });
                
                &#x2F;&#x2F; If there&#39;s a fragment in both URLs, setting location.href won&#39;t actually reload
                var fragment = href.indexOf(&quot;#&quot;);
                if (fragment !== -1) {
                    href = href.substr(0, fragment);
                }
                
                window.location.href = href;
            });
        }).fail(function () {
            _isReloading = false;
        });
    }

    function handleReload() {
        var href    = window.location.href,
            params  = new UrlParams();
        
        &#x2F;&#x2F; Make sure the Reload Without User Extensions parameter is removed
        params.parse();
        
        if (params.get(&quot;reloadWithoutUserExts&quot;)) {
            params.remove(&quot;reloadWithoutUserExts&quot;);
        }
        
        if (href.indexOf(&quot;?&quot;) !== -1) {
            href = href.substring(0, href.indexOf(&quot;?&quot;));
        }
        
        if (!params.isEmpty()) {
            href += &quot;?&quot; + params.toString();
        }
        
        &#x2F;&#x2F; Give Mac native menus extra time to update shortcut highlighting.
        &#x2F;&#x2F; Prevents the menu highlighting from getting messed up after reload.
        window.setTimeout(function () {
            browserReload(href);
        }, 100);
    }

    function handleReloadWithoutExts() {
        var href    = window.location.href,
            params  = new UrlParams();
        
        params.parse();
        
        if (!params.get(&quot;reloadWithoutUserExts&quot;)) {
            params.put(&quot;reloadWithoutUserExts&quot;, true);
        }
        
        if (href.indexOf(&quot;?&quot;) !== -1) {
            href = href.substring(0, href.indexOf(&quot;?&quot;));
        }
        
        href += &quot;?&quot; + params.toString();
        
        &#x2F;&#x2F; Give Mac native menus extra time to update shortcut highlighting.
        &#x2F;&#x2F; Prevents the menu highlighting from getting messed up after reload.
        window.setTimeout(function () {
            browserReload(href);
        }, 100);
    }

    AppInit.htmlReady(function () {
        &#x2F;&#x2F; If in Reload Without User Extensions mode, update UI and log console message
        var params      = new UrlParams(),
            $icon       = $(&quot;#toolbar-extension-manager&quot;),
            $indicator  = $(&quot;&lt;div&gt;&quot; + Strings.STATUSBAR_USER_EXTENSIONS_DISABLED + &quot;&lt;&#x2F;div&gt;&quot;);
        
        params.parse();
        
        if (params.get(&quot;reloadWithoutUserExts&quot;) === &quot;true&quot;) {
            CommandManager.get(Commands.FILE_EXTENSION_MANAGER).setEnabled(false);
            $icon.css({display: &quot;none&quot;});
            StatusBar.addIndicator(&quot;status-user-exts&quot;, $indicator, true);
            console.log(&quot;Brackets reloaded with extensions disabled&quot;);
        }
        
        &#x2F;&#x2F; Init DOM elements
        _$titleContainerToolbar = $(&quot;#titlebar&quot;);
        _$titleWrapper = $(&quot;.title-wrapper&quot;, _$titleContainerToolbar);
        _$title = $(&quot;.title&quot;, _$titleWrapper);
        _$dirtydot = $(&quot;.dirty-dot&quot;, _$titleWrapper);
    });

    &#x2F;&#x2F; Exported for unit testing only
    exports._parseDecoratedPath = _parseDecoratedPath;

    &#x2F;&#x2F; Set some command strings
    var quitString  = Strings.CMD_QUIT,
        showInOS    = Strings.CMD_SHOW_IN_OS;
    if (brackets.platform === &quot;win&quot;) {
        quitString  = Strings.CMD_EXIT;
        showInOS    = Strings.CMD_SHOW_IN_EXPLORER;
    } else if (brackets.platform === &quot;mac&quot;) {
        showInOS    = Strings.CMD_SHOW_IN_FINDER;
    }

    &#x2F;&#x2F; Register global commands
    CommandManager.register(Strings.CMD_FILE_OPEN,          Commands.FILE_OPEN, handleFileOpen);
    CommandManager.register(Strings.CMD_ADD_TO_WORKING_SET, Commands.FILE_ADD_TO_WORKING_SET, handleFileAddToWorkingSet);
    CommandManager.register(Strings.CMD_FILE_NEW_UNTITLED,  Commands.FILE_NEW_UNTITLED, handleFileNew);
    CommandManager.register(Strings.CMD_FILE_NEW,           Commands.FILE_NEW, handleFileNewInProject);
    CommandManager.register(Strings.CMD_FILE_NEW_FOLDER,    Commands.FILE_NEW_FOLDER, handleNewFolderInProject);
    CommandManager.register(Strings.CMD_FILE_SAVE,          Commands.FILE_SAVE, handleFileSave);
    CommandManager.register(Strings.CMD_FILE_SAVE_ALL,      Commands.FILE_SAVE_ALL, handleFileSaveAll);
    CommandManager.register(Strings.CMD_FILE_SAVE_AS,       Commands.FILE_SAVE_AS, handleFileSaveAs);
    CommandManager.register(Strings.CMD_FILE_RENAME,        Commands.FILE_RENAME, handleFileRename);
    CommandManager.register(Strings.CMD_FILE_DELETE,        Commands.FILE_DELETE, handleFileDelete);

    CommandManager.register(Strings.CMD_FILE_CLOSE,         Commands.FILE_CLOSE, handleFileClose);
    CommandManager.register(Strings.CMD_FILE_CLOSE_ALL,     Commands.FILE_CLOSE_ALL, handleFileCloseAll);
    CommandManager.register(Strings.CMD_FILE_CLOSE_LIST,    Commands.FILE_CLOSE_LIST, handleFileCloseList);
    CommandManager.register(quitString,                     Commands.FILE_QUIT, handleFileQuit);

    CommandManager.register(Strings.CMD_NEXT_DOC,           Commands.NAVIGATE_NEXT_DOC, handleGoNextDoc);
    CommandManager.register(Strings.CMD_PREV_DOC,           Commands.NAVIGATE_PREV_DOC, handleGoPrevDoc);
    CommandManager.register(Strings.CMD_SHOW_IN_TREE,       Commands.NAVIGATE_SHOW_IN_FILE_TREE, handleShowInTree);
    CommandManager.register(showInOS,                       Commands.NAVIGATE_SHOW_IN_OS, handleShowInOS);

    &#x2F;&#x2F; These commands have no UI representation and are only used internally
    CommandManager.registerInternal(Commands.APP_ABORT_QUIT,            handleAbortQuit);
    CommandManager.registerInternal(Commands.APP_BEFORE_MENUPOPUP,      handleBeforeMenuPopup);
    CommandManager.registerInternal(Commands.FILE_CLOSE_WINDOW,         handleFileCloseWindow);
    CommandManager.registerInternal(Commands.APP_RELOAD,                handleReload);
    CommandManager.registerInternal(Commands.APP_RELOAD_WITHOUT_EXTS,   handleReloadWithoutExts);

    &#x2F;&#x2F; Listen for changes that require updating the editor titlebar
    $(DocumentManager).on(&quot;dirtyFlagChange&quot;, handleDirtyChange);
    $(DocumentManager).on(&quot;fileNameChange&quot;, updateDocumentTitle);
    $(EditorManager).on(&quot;currentlyViewedFileChange&quot;, updateDocumentTitle);

    &#x2F;&#x2F; Reset the untitled document counter before changing projects
    $(ProjectManager).on(&quot;beforeProjectClose&quot;, function () { _nextUntitledIndexToUse = 1; });
});</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>detectDocumentNavEnd</h4>

    
    <div class="description"><p>When the Ctrl key is released, if we were in the middle of a next/prev document navigation
sequence, now is the time to end it and update the MRU order. If we allowed the order to update
on every next/prev increment, the 1st &amp; 2nd entries would just switch places forever and we&#39;d
never get further down the list.</p>
</div>
    
<dl>
    <dt>event</dt>
    <dd class="label label-info pull-left">jQueryEvent</dd>
    <dd>Key-up event</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function detectDocumentNavEnd(event) {
        if (event.keyCode === KeyEvent.DOM_VK_CONTROL) {  &#x2F;&#x2F; Ctrl key
            DocumentManager.finalizeDocumentNavigation();
            
            _addedNavKeyHandler = false;
            $(window.document.body).off(&quot;keyup&quot;, detectDocumentNavEnd);
        }
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>doOpen</h4>

    
    <div class="description"></div>
    
<dl>
    <dt>fullPath</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">string</dd>
    <dd></dd>
    <dt>silent</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">boolean</dd>
    <dd>If true, don't show error message</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>a jQuery promise that will either - be resolved with a document for the specified file path or - be resolved without document, i.e. when an image is displayed or - be rejected if the file can not be read.</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function doOpen(fullPath, silent) {
        var result = new $.Deferred();
        
        &#x2F;&#x2F; workaround for https:&#x2F;&#x2F;github.com&#x2F;adobe&#x2F;brackets&#x2F;issues&#x2F;6001
        &#x2F;&#x2F; TODO should be removed once bug is closed.
        &#x2F;&#x2F; if we are already displaying a file do nothing but resolve immediately.
        &#x2F;&#x2F; this fixes timing issues in test cases.
        if (EditorManager.getCurrentlyViewedPath() === fullPath) {
            result.resolve(DocumentManager.getCurrentDocument());
            return result.promise();
        }
        
        function _cleanup(fullFilePath) {
            if (!fullFilePath || EditorManager.showingCustomViewerForPath(fullFilePath)) {
                &#x2F;&#x2F; We get here only after the user renames a file that makes it no longer belong to a
                &#x2F;&#x2F; custom viewer but the file is still showing in the current custom viewer. This only
                &#x2F;&#x2F; occurs on Mac since opening a non-text file always fails on Mac and triggers an error
                &#x2F;&#x2F; message that in turn calls _cleanup() after the user clicks OK in the message box.
                &#x2F;&#x2F; So we need to explicitly close the currently viewing image file whose filename is
                &#x2F;&#x2F; no longer valid. Calling notifyPathDeleted will close the image vieer and then select
                &#x2F;&#x2F; the previously opened text file or show no-editor if none exists.
                EditorManager.notifyPathDeleted(fullFilePath);
            } else {
                &#x2F;&#x2F; For performance, we do lazy checking of file existence, so it may be in working set
                DocumentManager.removeFromWorkingSet(FileSystem.getFileForPath(fullFilePath));
                EditorManager.focusEditor();
            }
            result.reject();
        }
        function _showErrorAndCleanUp(fileError, fullFilePath) {
            if (silent) {
                _cleanup(fullFilePath);
            } else {
                FileUtils.showFileOpenError(fileError, fullFilePath).done(function () {
                    _cleanup(fullFilePath);
                });
            }
        }
        
        if (!fullPath) {
            console.error(&quot;doOpen() called without fullPath&quot;);
            result.reject();
        } else {
            var perfTimerName = PerfUtils.markStart(&quot;Open File:\t&quot; + fullPath);
            result.always(function () {
                PerfUtils.addMeasurement(perfTimerName);
            });

            var viewProvider = EditorManager.getCustomViewerForPath(fullPath);
            if (viewProvider) {
                var file = FileSystem.getFileForPath(fullPath);
                file.exists(function (fileError, fileExists) {
                    if (fileExists) {
                        EditorManager._showCustomViewer(viewProvider, fullPath);
                        result.resolve();
                    } else {
                        fileError = fileError || FileSystemError.NOT_FOUND;
                        _showErrorAndCleanUp(fileError);
                    }
                });
                
            } else {
                &#x2F;&#x2F; Load the file if it was never open before, and then switch to it in the UI
                DocumentManager.getDocumentForPath(fullPath)
                    .done(function (doc) {
                        DocumentManager.setCurrentDocument(doc);
                        result.resolve(doc);
                    })
                    .fail(function (fileError) {
                        _showErrorAndCleanUp(fileError, fullPath);
                    });
            }
        }

        return result.promise();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>doRevert</h4>

    
    <div class="description"><p>Reverts the Document to the current contents of its file on disk. Discards any unsaved changes
in the Document.</p>
</div>
    
<dl>
    <dt>doc</dt>
    <dd class="label label-info pull-left">Document</dd>
    <dd></dd>
    <dt>suppressError</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">boolean</dd>
    <dd>If true, then a failure to read the file will be ignored and the resulting promise will be resolved rather than rejected.</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>a Promise that's resolved when done, or (if suppressError is false) rejected with a FileSystemError if the file cannot be read (after showing an error dialog to the user).</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function doRevert(doc, suppressError) {
        var result = new $.Deferred();
        
        FileUtils.readAsText(doc.file)
            .done(function (text, readTimestamp) {
                doc.refreshText(text, readTimestamp);
                result.resolve();
            })
            .fail(function (error) {
                if (suppressError) {
                    result.resolve();
                } else {
                    FileUtils.showFileOpenError(error, doc.file.fullPath)
                        .done(function () {
                            result.reject(error);
                        });
                }
            });
        
        return result.promise();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>doSave</h4>

    
    <div class="description"><p>Saves a document to its existing path. Does NOT support untitled documents.</p>
</div>
    
<dl>
    <dt>docToSave</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">Document</dd>
    <dd></dd>
    <dt>force</dt>
    <span class="label label-optional pull-left">optional</span>
    <dd class="label label-info pull-left">boolean</dd>
    <dd>Ignore CONTENTS_MODIFIED errors from the FileSystem</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>a promise that is resolved with the File of docToSave (to mirror the API of _doSaveAs()). Rejected in case of IO error (after error dialog dismissed).</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function doSave(docToSave, force) {
        var result = new $.Deferred(),
            file = docToSave.file;
        
        function handleError(error) {
            _showSaveFileError(error, file.fullPath)
                .done(function () {
                    result.reject(error);
                });
        }
        
        function handleContentsModified() {
            Dialogs.showModalDialog(
                DefaultDialogs.DIALOG_ID_ERROR,
                Strings.EXT_MODIFIED_TITLE,
                StringUtils.format(
                    Strings.EXT_MODIFIED_WARNING,
                    StringUtils.breakableUrl(docToSave.file.fullPath)
                ),
                [
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_LEFT,
                        id        : Dialogs.DIALOG_BTN_SAVE_AS,
                        text      : Strings.SAVE_AS
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_NORMAL,
                        id        : Dialogs.DIALOG_BTN_CANCEL,
                        text      : Strings.CANCEL
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_PRIMARY,
                        id        : Dialogs.DIALOG_BTN_OK,
                        text      : Strings.SAVE_AND_OVERWRITE
                    }
                ]
            )
                .done(function (id) {
                    if (id === Dialogs.DIALOG_BTN_CANCEL) {
                        result.reject();
                    } else if (id === Dialogs.DIALOG_BTN_OK) {
                        &#x2F;&#x2F; Re-do the save, ignoring any CONTENTS_MODIFIED errors
                        doSave(docToSave, true).then(result.resolve, result.reject);
                    } else if (id === Dialogs.DIALOG_BTN_SAVE_AS) {
                        &#x2F;&#x2F; Let the user choose a different path at which to write the file
                        handleFileSaveAs({doc: docToSave}).then(result.resolve, result.reject);
                    }
                });
        }
            
        function trySave() {
            &#x2F;&#x2F; We don&#39;t want normalized line endings, so it&#39;s important to pass true to getText()
            FileUtils.writeText(file, docToSave.getText(true), force)
                .done(function () {
                    docToSave.notifySaved();
                    result.resolve(file);
                })
                .fail(function (err) {
                    if (err === FileSystemError.CONTENTS_MODIFIED) {
                        handleContentsModified();
                    } else {
                        handleError(err);
                    }
                });
        }

        if (docToSave.isDirty) {
            var writeError = false;
            
            if (docToSave.keepChangesTime) {
                &#x2F;&#x2F; The user has decided to keep conflicting changes in the editor. Check to make sure
                &#x2F;&#x2F; the file hasn&#39;t changed since they last decided to do that.
                docToSave.file.stat(function (err, stat) {
                    &#x2F;&#x2F; If the file has been deleted on disk, the stat will return an error, but that&#39;s fine since
                    &#x2F;&#x2F; that means there&#39;s no file to overwrite anyway, so the save will succeed without us having
                    &#x2F;&#x2F; to set force = true.
                    if (!err &amp;&amp; docToSave.keepChangesTime === stat.mtime.getTime()) {
                        &#x2F;&#x2F; OK, it&#39;s safe to overwrite the file even though we never reloaded the latest version,
                        &#x2F;&#x2F; since the user already said s&#x2F;he wanted to ignore the disk version.
                        force = true;
                    }
                    trySave();
                });
            } else {
                trySave();
            }
        } else {
            result.resolve(file);
        }
        result.always(function () {
            EditorManager.focusEditor();
        });
        return result.promise();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>goNextPrevDoc</h4>

    
    <div class="description"><p>Navigate to the next/previous (MRU) document. Don&#39;t update MRU order yet</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function goNextPrevDoc(inc) {
        var file = DocumentManager.getNextPrevFile(inc);
        if (file) {
            DocumentManager.beginDocumentNavigation();
            CommandManager.execute(Commands.FILE_OPEN, { fullPath: file.fullPath });
            
            &#x2F;&#x2F; Listen for ending of Ctrl+Tab sequence
            if (!_addedNavKeyHandler) {
                _addedNavKeyHandler = true;
                $(window.document.body).keyup(detectDocumentNavEnd);
            }
        }
    }

    function handleGoNextDoc() {
        goNextPrevDoc(+1);
    }
    function handleGoPrevDoc() {
        goNextPrevDoc(-1);
    }

    function handleShowInTree() {
        ProjectManager.showInTree(DocumentManager.getCurrentDocument().file);
    }

    function handleFileDelete() {
        var entry = ProjectManager.getSelectedItem();
        if (entry.isDirectory) {
            Dialogs.showModalDialog(
                DefaultDialogs.DIALOG_ID_EXT_DELETED,
                Strings.CONFIRM_FOLDER_DELETE_TITLE,
                StringUtils.format(
                    Strings.CONFIRM_FOLDER_DELETE,
                    StringUtils.breakableUrl(entry.name)
                ),
                [
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_NORMAL,
                        id        : Dialogs.DIALOG_BTN_CANCEL,
                        text      : Strings.CANCEL
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_PRIMARY,
                        id        : Dialogs.DIALOG_BTN_OK,
                        text      : Strings.DELETE
                    }
                ]
            )
                .done(function (id) {
                    if (id === Dialogs.DIALOG_BTN_OK) {
                        ProjectManager.deleteItem(entry);
                    }
                });
        } else {
            ProjectManager.deleteItem(entry);
        }
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>handleAbortQuit</h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleAbortQuit() {
        _windowGoingAway = false;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>handleBeforeMenuPopup</h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleBeforeMenuPopup() {
        $(PopUpManager).triggerHandler(&quot;beforeMenuPopup&quot;);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleFileAddToWorkingSet</h4>

    
    <div class="description"><p>Opens the given file, makes it the current document, AND adds it to the working set
only if the file does not have a custom viewer.</p>
</div>
    
<dl>
    <dt>commandData</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">{fullPath:string, index:number=, forceRedraw:boolean}</dd>
    <dd>File to open; optional position in working set list (defaults to last); optional flag to force working set redraw</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileAddToWorkingSet(commandData) {
        return handleFileOpen(commandData).done(function (doc) {
            &#x2F;&#x2F; addToWorkingSet is synchronous
            &#x2F;&#x2F; When opening a file with a custom viewer, we get a null doc.
            &#x2F;&#x2F; So check it before we add it to the working set.
            if (doc) {
                DocumentManager.addToWorkingSet(doc.file, commandData.index, commandData.forceRedraw);
            }
        });
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleFileClose</h4>

    
    <div class="description"><p>Closes the specified file: removes it from the working set, and closes the main editor if one
is open. Prompts user about saving changes first, if document is dirty.</p>
</div>
    
<dl>
    <dt>commandData</dt>
    <span class="label label-nullable pull-left">nullable</span>
    <dd class="label label-info pull-left">{file: File, promptOnly:boolean}</dd>
    <dd>Optional bag of arguments: file - File to close; assumes the current document if not specified. promptOnly - If true, only displays the relevant confirmation UI and does NOT actually close the document. This is useful when chaining file-close together with other user prompts that may be cancelable. _forceClose - If true, closes the document without prompting even if there are unsaved changes. Only for use in unit tests.</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>a promise that is resolved when the file is closed, or if no file is open. FUTURE: should we reject the promise if no file is open?</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileClose(commandData) {
        var file,
            promptOnly,
            _forceClose;
        
        if (commandData) {
            file        = commandData.file;
            promptOnly  = commandData.promptOnly;
            _forceClose = commandData._forceClose;
        }
        
        &#x2F;&#x2F; utility function for handleFileClose: closes document &amp; removes from working set
        function doClose(file) {
            if (!promptOnly) {
                &#x2F;&#x2F; This selects a different document if the working set has any other options
                DocumentManager.closeFullEditor(file);
                
                EditorManager.focusEditor();
            }
        }

        var result = new $.Deferred(), promise = result.promise();
        
        function doCloseCustomViewer() {
            if (!promptOnly) {
                var nextFile = DocumentManager.getNextPrevFile(1);
                if (nextFile) {
                    &#x2F;&#x2F; opening a text file will automatically close the custom viewer.
                    &#x2F;&#x2F; This is done in the currentDocumentChange handler in EditorManager
                    doOpen(nextFile.fullPath).always(function () {
                        EditorManager.focusEditor();
                        result.resolve();
                    });
                } else {
                    EditorManager._closeCustomViewer();
                    result.resolve();
                }
            }
        }

        &#x2F;&#x2F; Close custom viewer if, either
        &#x2F;&#x2F; - a custom viewer is currently displayed and no file specified in command data
        &#x2F;&#x2F; - a custom viewer is currently displayed and the file specified in command data
        &#x2F;&#x2F;   is the file in the custom viewer
        if (!DocumentManager.getCurrentDocument()) {
            if ((EditorManager.getCurrentlyViewedPath() &amp;&amp; !file) ||
                    (file &amp;&amp; file.fullPath === EditorManager.getCurrentlyViewedPath())) {
                doCloseCustomViewer();
                return promise;
            }
        }
        
        &#x2F;&#x2F; Default to current document if doc is null
        if (!file &amp;&amp; DocumentManager.getCurrentDocument()) {
            file = DocumentManager.getCurrentDocument().file;
        }
        
        &#x2F;&#x2F; No-op if called when nothing is open; TODO: (issue #273) should command be grayed out instead?
        if (!file) {
            result.resolve();
            return promise;
        }
        
        var doc = DocumentManager.getOpenDocumentForPath(file.fullPath);
        
        if (doc &amp;&amp; doc.isDirty &amp;&amp; !_forceClose) {
            &#x2F;&#x2F; Document is dirty: prompt to save changes before closing
            var filename = FileUtils.getBaseName(doc.file.fullPath);
            
            Dialogs.showModalDialog(
                DefaultDialogs.DIALOG_ID_SAVE_CLOSE,
                Strings.SAVE_CLOSE_TITLE,
                StringUtils.format(
                    Strings.SAVE_CLOSE_MESSAGE,
                    StringUtils.breakableUrl(filename)
                ),
                [
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_LEFT,
                        id        : Dialogs.DIALOG_BTN_DONTSAVE,
                        text      : Strings.DONT_SAVE
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_NORMAL,
                        id        : Dialogs.DIALOG_BTN_CANCEL,
                        text      : Strings.CANCEL
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_PRIMARY,
                        id        : Dialogs.DIALOG_BTN_OK,
                        text      : Strings.SAVE
                    }
                ]
            )
                .done(function (id) {
                    if (id === Dialogs.DIALOG_BTN_CANCEL) {
                        result.reject();
                    } else if (id === Dialogs.DIALOG_BTN_OK) {
                        &#x2F;&#x2F; &quot;Save&quot; case: wait until we confirm save has succeeded before closing
                        handleFileSave({doc: doc})
                            .done(function (newFile) {
                                doClose(newFile);
                                result.resolve();
                            })
                            .fail(function () {
                                result.reject();
                            });
                    } else {
                        &#x2F;&#x2F; &quot;Don&#39;t Save&quot; case: even though we&#39;re closing the main editor, other views of
                        &#x2F;&#x2F; the Document may remain in the UI. So we need to revert the Document to a clean
                        &#x2F;&#x2F; copy of whatever&#39;s on disk.
                        doClose(file);
                        
                        &#x2F;&#x2F; Only reload from disk if we&#39;ve executed the Close for real.
                        if (promptOnly) {
                            result.resolve();
                        } else {
                            &#x2F;&#x2F; Even if there are no listeners attached to the document at this point, we want
                            &#x2F;&#x2F; to do the revert anyway, because clients who are listening to the global documentChange
                            &#x2F;&#x2F; event from the Document module (rather than attaching to the document directly),
                            &#x2F;&#x2F; such as the Find in Files panel, should get a change event. However, in that case,
                            &#x2F;&#x2F; we want to ignore errors during the revert, since we don&#39;t want a failed revert
                            &#x2F;&#x2F; to throw a dialog if the document isn&#39;t actually open in the UI.
                            var suppressError = !DocumentManager.getOpenDocumentForPath(file.fullPath);
                            doRevert(doc, suppressError)
                                .then(result.resolve, result.reject);
                        }
                    }
                });
            result.always(function () {
                EditorManager.focusEditor();
            });
        } else {
            &#x2F;&#x2F; File is not open, or IS open but Document not dirty: close immediately
            doClose(file);
            EditorManager.focusEditor();
            result.resolve();
        }
        return promise;
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleFileCloseAll</h4>

    
    <div class="description"><p>Closes all open documents; equivalent to calling handleFileClose() for each document, except
that unsaved changes are confirmed once, in bulk.</p>
</div>
    
<dl>
    <dt>If</dt>
    <span class="label label-nullable pull-left">nullable</span>
    <dd class="label label-info pull-left">{promptOnly: boolean, _forceClose: boolean}</dd>
    <dd>promptOnly is true, only displays the relevant confirmation UI and does NOT actually close any documents. This is useful when chaining close-all together with other user prompts that may be cancelable. If _forceClose is true, forces the files to close with no confirmation even if dirty. Should only be used for unit test cleanup.</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>a promise that is resolved when all files are closed</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileCloseAll(commandData) {
        return _closeList(DocumentManager.getWorkingSet(),
                                    (commandData &amp;&amp; commandData.promptOnly), true, (commandData &amp;&amp; commandData._forceClose)).done(function () {
            if (!DocumentManager.getCurrentDocument()) {
                EditorManager._closeCustomViewer();
            }
        });
    }

    function handleFileCloseList(commandData) {
        return _closeList(commandData.fileList, false, false).done(function () {
            if (!DocumentManager.getCurrentDocument()) {
                EditorManager._closeCustomViewer();
            }
        });
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleFileCloseWindow</h4>

    
    <div class="description"><p>Confirms any unsaved changes, then closes the window</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileCloseWindow(commandData) {
        return _handleWindowGoingAway(
            commandData,
            function () {
                window.close();
            },
            function () {
                &#x2F;&#x2F; if fail, tell the app to abort any pending quit operation.
                brackets.app.abortQuit();
            }
        );
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleFileNew</h4>

    
    <div class="description"><p>Create a new untitled document in the working set, and make it the current document.
Promise is resolved (synchronously) with the newly-created Document.</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileNew() {
        &#x2F;&#x2F;var defaultExtension = PreferencesManager.get(&quot;defaultExtension&quot;);
        &#x2F;&#x2F;if (defaultExtension) {
        &#x2F;&#x2F;    defaultExtension = &quot;.&quot; + defaultExtension;
        &#x2F;&#x2F;}
        var defaultExtension = &quot;&quot;;  &#x2F;&#x2F; disable preference setting for now
        
        var doc = DocumentManager.createUntitledDocument(_nextUntitledIndexToUse++, defaultExtension);
        DocumentManager.setCurrentDocument(doc);
        EditorManager.focusEditor();
        
        return new $.Deferred().resolve(doc).promise();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleFileNewInProject</h4>

    
    <div class="description"><p>Create a new file in the project tree.</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileNewInProject() {
        _handleNewItemInProject(false);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleFileOpen</h4>

    
    <div class="description"><p>Opens the given file and makes it the current document. Does NOT add it to the working set.</p>
</div>
    
<dl>
    <dt>Params</dt>
    <span class="label label-non-nullable pull-left">non-nullable</span>
    <dd class="label label-info pull-left">{fullPath:string}</dd>
    <dd>for FILE_OPEN command; the fullPath string is of the form "path[:lineNumber[:columnNumber]]" lineNumber and columnNumber are 1-origin: the very first line is line 1, and the very first column is column 1.</dd>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileOpen(commandData) {
        var fileInfo = _parseDecoratedPath(commandData ? commandData.fullPath : null),
            silent = commandData ? commandData.silent : false;
        return _doOpenWithOptionalPath(fileInfo.path, silent)
            .always(function () {
                &#x2F;&#x2F; If a line and column number were given, position the editor accordingly.
                if (fileInfo.line !== null) {
                    if (fileInfo.column === null || (fileInfo.column &lt;= 0)) {
                        fileInfo.column = 1;
                    }
                    &#x2F;&#x2F; setCursorPos expects line&#x2F;column numbers as 0-origin, so we subtract 1
                    EditorManager.getCurrentFullEditor().setCursorPos(fileInfo.line - 1, fileInfo.column - 1, true);
                }
                
                &#x2F;&#x2F; Give the editor focus
                EditorManager.focusEditor();
            });
        &#x2F;&#x2F; Testing notes: here are some recommended manual tests for handleFileOpen, on macintosh.
        &#x2F;&#x2F; Do all tests with brackets already running, and also with brackets not already running.
        &#x2F;&#x2F;
        &#x2F;&#x2F; drag a file onto brackets icon in desktop (this uses undecorated paths)
        &#x2F;&#x2F; drag a file onto brackets icon in taskbar (this uses undecorated paths)
        &#x2F;&#x2F; open a file from brackets sidebar (this uses undecorated paths)
        &#x2F;&#x2F; from command line: .....&#x2F;Brackets.app&#x2F;Contents path         - where &#39;path&#39; is undecorated
        &#x2F;&#x2F; from command line: .....&#x2F;Brackets.app path                  - where &#39;path&#39; has the form &quot;path:line&quot;
        &#x2F;&#x2F; from command line: .....&#x2F;Brackets.app path                  - where &#39;path&#39; has the form &quot;path:line:column&quot;
        &#x2F;&#x2F; from command line: open -a .....&#x2F;Brackets.app path          - where &#39;path&#39; is undecorated
        &#x2F;&#x2F; do &quot;View Source&quot; from Adobe Scout version 1.2 or newer (this will use decorated paths of the form &quot;path:line:column&quot;)
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleFileQuit</h4>

    
    <div class="description"><p>Closes the window, then quits the app</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileQuit(commandData) {
        return _handleWindowGoingAway(
            commandData,
            function () {
                brackets.app.quit();
            },
            function () {
                &#x2F;&#x2F; if fail, don&#39;t exit: user canceled (or asked us to save changes first, but we failed to do so)
                brackets.app.abortQuit();
            }
        );
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleFileRename</h4>

    
    <div class="description"><p>Show a textfield to rename whatever is currently selected in the sidebar (or current doc if nothing else selected)</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileRename() {
        &#x2F;&#x2F; Prefer selected sidebar item (which could be a folder)
        var entry = ProjectManager.getSelectedItem();
        if (!entry) {
            &#x2F;&#x2F; Else use current file (not selected in ProjectManager if not visible in tree or working set)
            var doc = DocumentManager.getCurrentDocument();
            entry = doc &amp;&amp; doc.file;
        }
        if (entry) {
            ProjectManager.renameItemInline(entry);
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleFileSave</h4>

    
    <div class="description"><p>Saves the given file. If no file specified, assumes the current document.</p>
</div>
    
<dl>
    <dt>commandData</dt>
    <span class="label label-nullable pull-left">nullable</span>
    <dd class="label label-info pull-left">{doc: ?Document}</dd>
    <dd>Document to close, or null</dd>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>resolved with the saved document's File (which MAY DIFFER from the doc passed in, if the doc was untitled). Rejected in case of IO error (after error dialog dismissed), or if doc was untitled and the Save dialog was canceled (will be rejected with USER_CANCELED object).</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileSave(commandData) {
        var activeEditor = EditorManager.getActiveEditor(),
            activeDoc = activeEditor &amp;&amp; activeEditor.document,
            doc = (commandData &amp;&amp; commandData.doc) || activeDoc,
            settings;
        
        if (doc &amp;&amp; !doc.isSaving) {
            if (doc.isUntitled()) {
                if (doc === activeDoc) {
                    settings = {
                        selections: activeEditor.getSelections(),
                        scrollPos: activeEditor.getScrollPos()
                    };
                }
                
                return _doSaveAs(doc, settings);
            } else {
                return doSave(doc);
            }
        }
        
        return $.Deferred().reject().promise();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleFileSaveAll</h4>

    
    <div class="description"><p>Saves all unsaved documents.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd>a promise that is resolved once ALL the saves have been completed; or rejected after all operations completed if any ONE of them failed.</dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileSaveAll() {
        return saveAll();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleNewFolderInProject</h4>

    
    <div class="description"><p>Create a new folder in the project tree.</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleNewFolderInProject() {
        _handleNewItemInProject(true);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>handleShowInOS</h4>

    
    <div class="description"><p>Show the selected sidebar (tree or working set) item in Finder/Explorer</p>
</div>
    
<dl>
</dl><dl>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleShowInOS() {
        var entry = ProjectManager.getSelectedItem();
        if (entry) {
            brackets.app.showOSFolder(entry.fullPath, function (err) {
                if (err) {
                    console.error(&quot;Error showing &#39;&quot; + entry.fullPath + &quot;&#39; in OS folder:&quot;, err);
                }
            });
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>saveAll</h4>

    
    <div class="description"><p>Saves all unsaved documents. See _saveFileList() for details on the semantics.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: </dt>
    <dd class="label label-info pull-left">$.Promise</dd>
    <dd></dd>
</dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function saveAll() {
        return _saveFileList(DocumentManager.getWorkingSet());
    }</code></pre></div>
</section>

        </div>
      </div>
    </div>

    <script type="text/javascript" src="../../assets/js/prism.js"></script>
  </body>
</html>